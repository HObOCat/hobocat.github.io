<!DOCTYPE html>
<html lang="zh-CN"><head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <meta name="description" content="dockerÂü∫Á°ÄÁØá - https://hobocat.github.io/post/docker/2018-12-20-docker-%E5%9F%BA%E7%A1%80%E7%AF%87/">
    <meta name="author" content="Jack - https://hobocat.github.io/">
    
    <meta name="msvalidate.01" content="B46311949B856F2A7015F366FB3CE878" />
    <title>dockerÂü∫Á°ÄÁØá</title>
    
    <base target="_blank">
    <link rel="icon" type="image/png" href="/favicon.ico">
    
    
    
    
    
    <link rel="stylesheet" href="https://hobocat.github.io/style.min.94e7ed14b48117025ebd1148adc11f7268f1ebf50d97297ac663edf1aa6f52dc.css">
    
    <script>const DARK =  false ;</script>
    
    <script type="text/javascript" src="/main.js" defer></script>
    
</head>
<body class="active-animate cool">
        <div class="container-floating-box">
	<div class="box box1"></div>
	<div class="box box11"></div>
	<div class="box box12"></div>
	<div class="box box2"></div>
	<div class="box box3"></div>
	<div class="box box4"></div>
	<div class="box box5"></div>
	<div class="box box6"></div>
	<div class="box box7"></div>
	<div class="box box8"></div>
	<div class="box box9"></div>
</div>
        <div class="cool-before" style="background: url('/imgs/bg/wallhaven-6qr21l.jpg') left top/100% no-repeat fixed;"></div>
        <div id="header" class=""><div class="container-header">

    
    
    
    <div class="right">
        
        <h1 class="title">dockerÂü∫Á°ÄÁØá</h1>
    
        
        
            <div id="toc">üìú</div>
        
    </div>
</div>
</div>
        <div id="content">










<div class="container-main container-page ">

    

    
    
    
    <div class="rel">
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
    </div>
    
    

    <div class="desc">
        
        <span>
            
            <svg t="1656736000388" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
                p-id="7409" width="12" height="12">
                <path
                    d="M524.885333 338.986667L200.362667 663.466667c-17.28 15.274667-27.989333 36.693333-29.696 56.234666v133.76l130.730666 0.085334c22.784-1.621333 43.989333-12.245333 61.013334-31.701334l322.688-322.645333-160.213334-160.213333z m60.373334-60.330667l160.170666 160.213333 102.144-102.144a19.712 19.712 0 0 0 0-27.861333L715.093333 176.426667a19.456 19.456 0 0 0-27.605333 0L585.258667 278.613333zM701.312 85.333333c27.946667 0 54.741333 11.136 74.282667 30.848l132.309333 132.309334a105.045333 105.045333 0 0 1 0 148.565333L424.874667 879.957333c-29.824 34.346667-72.106667 55.466667-120.448 58.794667H85.333333v-42.666667l0.128-179.84c3.626667-44.970667 24.576-86.826667 56.448-114.944l485.12-485.034666A104.789333 104.789333 0 0 1 701.269333 85.333333z"
                    p-id="7410" fill="#adb5bd"></path>
            </svg>
            2018-12-20&nbsp;&nbsp;&nbsp;
            <svg t="1656737270708" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
                p-id="23838" width="11" height="11">
                <path
                    d="M824.264 95.36c0-23.859 25.043-44.16 48.902-44.16s49.714 20.301 49.714 44.16v190.08c0 23.859-19.054 52.868-42.913 52.868h-190.08c-23.859 0-46.696-25.96-46.696-49.819s22.55-46.249 46.409-46.249h82.025C702.344 175.534 610.22 155.853 512 155.853c-206.775 0-360.398 149.372-360.398 356.147 0 206.775 153.623 358.23 360.398 358.23 206.775 0 357.467-151.455 357.467-358.23 0-23.859 23.634-50.706 53.413-50.706 29.78 0 49.92 26.847 49.92 50.706 0 254.493-206.307 460.8-460.8 460.8-254.493 0-460.8-206.307-460.8-460.8C51.2 257.507 257.507 51.2 512 51.2c122.4 0 226.684 33.296 312.264 117.369 0.358 0.351 0.358-24.052 0-73.209z"
                    p-id="23839" fill="#adb5bd"></path>
            </svg>
            2018-12-20&nbsp;&nbsp;&nbsp;
        </span>
        <span>
            
            <svg t="1656737548689" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
                p-id="33866" width="12" height="12">
                <path
                    d="M832.038608 64.662657H192.030028C121.255125 64.662657 63.940169 121.98845 63.940169 192.694717v446.793671C63.940169 710.205493 121.255125 767.643272 192.030028 767.643272h133.353183a63.940169 63.940169 0 0 1 55.219742 31.576328l76.099638 129.83828c12.358154 21.093031 33.790754 31.626903 55.216129 31.626903s42.832688-10.544709 55.198067-31.619678l76.222461-129.870792a63.940169 63.940169 0 0 1 55.212517-31.551041h133.54103c70.576219 0 127.732228-57.289669 127.732227-127.800865V192.391272C959.825022 121.85479 902.643727 64.662657 832.038608 64.662657zM895.884854 639.842407A63.85347 63.85347 0 0 1 832.092795 703.703103h-133.54103a127.753903 127.753903 0 0 0-110.349172 63.09847l-76.222461 129.856342a0.274545 0.274545 0 0 1 0-0.050574h-0.032512s-0.021675 0.061411-0.032512 0.061412l-76.1466-129.85273A127.804477 127.804477 0 0 0 325.383211 703.703103H192.030028A64.207489 64.207489 0 0 1 127.880338 639.488388V192.694717A64.102729 64.102729 0 0 1 192.030028 128.602826h640.00858A63.799284 63.799284 0 0 1 895.884854 192.391272v447.451135z"
                    fill="#adb5bd" p-id="33867"></path>
                <path
                    d="M608.154093 288.092004A31.970084 31.970084 0 0 0 576.184009 320.062089v160.078006l-134.650049-179.278119A31.970084 31.970084 0 0 0 384.002258 320.062089v255.760676a31.970084 31.970084 0 0 0 63.940169 0v-159.958796l134.650048 179.274507a31.970084 31.970084 0 0 0 57.531703-19.200113V320.062089a31.970084 31.970084 0 0 0-31.970085-31.970085z"
                    fill="#adb5bd" p-id="33868"></path>
            </svg>
            8083 Â≠ó</span>&nbsp;
        <span>
            
            <svg t="1656737462334" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
                p-id="32892" width="12" height="12">
                <path
                    d="M512 74.666667C270.933333 74.666667 74.666667 270.933333 74.666667 512S270.933333 949.333333 512 949.333333 949.333333 753.066667 949.333333 512 753.066667 74.666667 512 74.666667z m0 810.666666c-204.8 0-373.333333-168.533333-373.333333-373.333333S307.2 138.666667 512 138.666667 885.333333 307.2 885.333333 512 716.8 885.333333 512 885.333333z"
                    p-id="32893" fill="#adb5bd"></path>
                <path
                    d="M695.466667 567.466667l-151.466667-70.4V277.333333c0-17.066667-14.933333-32-32-32s-32 14.933333-32 32v238.933334c0 12.8 6.4 23.466667 19.2 29.866666l170.666667 81.066667c4.266667 2.133333 8.533333 2.133333 12.8 2.133333 12.8 0 23.466667-6.4 29.866666-19.2 6.4-14.933333 0-34.133333-17.066666-42.666666z"
                    p-id="32894" fill="#adb5bd"></path>
            </svg>
            17 ÂàÜÈíü</span>
        <div class="container-ctgtag">
	<div class="taxonomy">
		<div class="tag">
			
			
			<a href="/tags/docker">docker</a>
			
		</div>
	</div>
</div>
        
    </div>

    <div class="toc">
        <div class="container-page-operation">
	<div class="page-operation">
		<div><a href="/"><img src="/imgs/icons/home-2.svg" alt=""></a></div>
		<div><a href="/nav"><img src="/imgs/icons/iov-navigate-1.svg" alt=""></a></div>
		<div><a href="/wiki"><img src="/imgs/icons/wiki.svg" alt=""></a></div>
		<div><a href="/tags"><img src="/imgs/icons/treetags.svg" alt=""></a></div>
		<div id="light-dark"><a><img src="/imgs/icons/moon2.svg" alt=""></a></div>
		<div><a href="#"><img src="/imgs/icons/up2.svg" alt=""></a></div>
	</div>
</div>
        <nav id="TableOfContents">
  <ul>
    <li><a href="#‰∏ÄÁÆÄ‰ªã">‰∏Ä„ÄÅÁÆÄ‰ªã</a></li>
    <li><a href="#‰∫åËôöÊãüÂåñÊäÄÊúØ">‰∫å„ÄÅËôöÊãüÂåñÊäÄÊúØ</a>
      <ul>
        <li><a href="#ËôöÊãüÊú∫ÊäÄÊúØ">ËôöÊãüÊú∫ÊäÄÊúØ</a></li>
        <li><a href="#ÂÆπÂô®ËôöÊãüÂåñÊäÄÊúØ">ÂÆπÂô®ËôöÊãüÂåñÊäÄÊúØ</a></li>
      </ul>
    </li>
    <li><a href="#‰∏âdocker‰∏âË¶ÅÁ¥†">‰∏â„ÄÅDocker‰∏âË¶ÅÁ¥†</a></li>
    <li><a href="#ÂõõyumÂÆâË£Ödocker">Âõõ„ÄÅYUMÂÆâË£ÖDocker</a></li>
    <li><a href="#‰∫îÂëΩ‰ª§">‰∫î„ÄÅÂëΩ‰ª§</a>
      <ul>
        <li><a href="#Â∏ÆÂä©ÂëΩ‰ª§">Â∏ÆÂä©ÂëΩ‰ª§</a></li>
        <li><a href="#ÈïúÂÉèÂëΩ‰ª§">ÈïúÂÉèÂëΩ‰ª§</a></li>
        <li><a href="#ÂÆπÂô®ÂëΩ‰ª§">ÂÆπÂô®ÂëΩ‰ª§</a></li>
      </ul>
    </li>
    <li><a href="#ÂÖ≠docker-compose">ÂÖ≠„ÄÅDocker Compose</a></li>
    <li><a href="#‰∏ÉÈïúÂÉèÂä†ËΩΩÂéüÁêÜ">‰∏É„ÄÅÈïúÂÉèÂä†ËΩΩÂéüÁêÜ</a>
      <ul>
        <li><a href="#unionfs-ËÅîÂêàÊñá‰ª∂Á≥ªÁªü">UnionFS ËÅîÂêàÊñá‰ª∂Á≥ªÁªü</a></li>
        <li><a href="#dockerÈïúÂÉèÂä†ËΩΩÂéüÁêÜ">DockerÈïúÂÉèÂä†ËΩΩÂéüÁêÜ</a></li>
      </ul>
    </li>
    <li><a href="#ÂÖ´ÂÆπÂô®Êï∞ÊçÆÂç∑">ÂÖ´„ÄÅÂÆπÂô®Êï∞ÊçÆÂç∑</a>
      <ul>
        <li><a href="#ÁÆÄ‰ªã">ÁÆÄ‰ªã</a></li>
        <li><a href="#‰ΩøÁî®ÂÆπÂô®Êï∞ÊçÆÂç∑">‰ΩøÁî®ÂÆπÂô®Êï∞ÊçÆÂç∑</a></li>
      </ul>
    </li>
    <li><a href="#‰πùdockerfile">‰πù„ÄÅDockerFile</a>
      <ul>
        <li><a href="#Âü∫Á°ÄÁü•ËØÜ">Âü∫Á°ÄÁü•ËØÜ</a></li>
        <li><a href="#‰øùÁïôÂÖ≥ÈîÆÂ≠ó">‰øùÁïôÂÖ≥ÈîÆÂ≠ó</a></li>
        <li><a href="#Á§∫‰æã">Á§∫‰æã</a></li>
      </ul>
    </li>
    <li><a href="#ÂçÅÈïúÂÉè‰ªìÂ∫ìÊê≠Âª∫">ÂçÅ„ÄÅÈïúÂÉè‰ªìÂ∫ìÊê≠Âª∫</a>
      <ul>
        <li><a href="#ÂÆòÊñπ‰ªìÂ∫ìÊê≠Âª∫ÊñπÂºè">ÂÆòÊñπ‰ªìÂ∫ìÊê≠Âª∫ÊñπÂºè</a></li>
        <li><a href="#harbor‰ªìÂ∫ìÊê≠Âª∫">Harbor‰ªìÂ∫ìÊê≠Âª∫</a></li>
      </ul>
    </li>
    <li><a href="#ÂçÅ‰∏ÄÁΩëÁªúËÆæÁΩÆ">ÂçÅ‰∏Ä„ÄÅÁΩëÁªúËÆæÁΩÆ</a>
      <ul>
        <li><a href="#ÁΩëÁªúÈÄöËÆØ">ÁΩëÁªúÈÄöËÆØ</a></li>
        <li><a href="#ÁΩëÁªúÊ®°Âºè‰øÆÊîπ">ÁΩëÁªúÊ®°Âºè‰øÆÊîπ</a></li>
        <li><a href="#ÂÆπÂô®Èó¥ÁΩëÁªúÈöîÁ¶ª">ÂÆπÂô®Èó¥ÁΩëÁªúÈöîÁ¶ª</a></li>
      </ul>
    </li>
    <li><a href="#ÂçÅ‰∫åÂÜÖÂ≠òcpuÈôêÂà∂">ÂçÅ‰∫å„ÄÅÂÜÖÂ≠ò&amp;CPUÈôêÂà∂</a>
      <ul>
        <li><a href="#ÂÜÖÂ≠òÁõ∏ÂÖ≥ËÆæÁΩÆ">ÂÜÖÂ≠òÁõ∏ÂÖ≥ËÆæÁΩÆ</a></li>
        <li><a href="#cpuÁõ∏ÂÖ≥ËÆæÁΩÆ">CPUÁõ∏ÂÖ≥ËÆæÁΩÆ</a></li>
      </ul>
    </li>
    <li><a href="#ÂçÅ‰∏âdockerÂÆâË£Ömysqlredis">ÂçÅ‰∏â„ÄÅDockerÂÆâË£ÖMySQL„ÄÅRedis</a></li>
    <li><a href="#ÈôÑÂêçËØçËß£ÈáäÂÆπÂô®Áä∂ÊÄÅËΩ¨Êç¢Âõæ">ÈôÑÂêçËØçËß£Èáä&amp;ÂÆπÂô®Áä∂ÊÄÅËΩ¨Êç¢Âõæ</a>
      <ul>
        <li><a href="#span-idpassiasspasssassspan"><span id="PASS">IASS&amp;PASS&amp;SASS</span></a></li>
        <li><a href="#lxc">LXC</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>

    <div class='content  '>
        <h2 id="‰∏ÄÁÆÄ‰ªã">‰∏Ä„ÄÅÁÆÄ‰ªã</h2>
<p>‚Äã	DockerÊòØ<a href="#PASS">PASS</a>„ÄêPlatform As A Service„ÄëÊèê‰æõÂïÜdotCloudÂºÄÊ∫êÁöÑ‰∏Ä‰∏™Âü∫‰∫é<code>LXC</code>„Äê<a href="#LinuxContainer">Linux Container</a>„ÄëÁöÑÈ´òÁ∫ßÂÆπÂô®ÂºïÊìéÔºåÊ∫ê‰ª£Á†ÅÊâòÁÆ°Âú®Github‰∏ä„ÄÇÂü∫‰∫égoËØ≠Ë®ÄÂπ∂ÈÅµ‰ªéApache2.0ÂçèËÆÆÂºÄÊ∫ê</p>
<p>‚Äã	DockerÁöÑ‰∏ªË¶ÅÁõÆÊ†áÊòØ‚ÄúBuild and Run Any App, Anywhere‚ÄúÔºå‰πüÂ∞±ÊòØÈÄöËøáÂØπÂ∫îÁî®ÁªÑ‰ª∂ÁöÑÂ∞ÅË£Ö„ÄÅÂàÜÂèë„ÄÅÈÉ®ÁΩ≤„ÄÅËøêË°åÁ≠âÁîüÂëΩÂë®ÊúüÁöÑÁÆ°ÁêÜÔºå‰ΩøÁî®Êà∑ÁöÑAPPÂèäÂÖ∂ËøêË°åÁéØÂ¢ÉËÉΩÂ§üÂÅöÂà∞**‚Äú‰∏ÄÊ¨°Â∞ÅË£ÖÔºåÂà∞Â§ÑËøêË°å‚Äù**„ÄÇ</p>
<p><strong>‰º†ÁªüÁöÑÂºÄÂèëÈÉ®ÁΩ≤Âçè‰ΩúÊñπÂºè</strong></p>
<p><img src="/img/docker/%E4%BC%A0%E7%BB%9F%E9%83%A8%E7%BD%B2.png" alt="‰º†ÁªüÈÉ®ÁΩ≤"></p>
<p><strong>DockerÁöÑÂºÄÂèëÈÉ®ÁΩ≤Âçè‰ΩúÊñπÂºè</strong></p>
<p><img src="/img/docker/docker%E9%83%A8%E7%BD%B2.png" alt="dockerÈÉ®ÁΩ≤"></p>
<h2 id="‰∫åËôöÊãüÂåñÊäÄÊúØ">‰∫å„ÄÅËôöÊãüÂåñÊäÄÊúØ</h2>
<h3 id="ËôöÊãüÊú∫ÊäÄÊúØ">ËôöÊãüÊú∫ÊäÄÊúØ</h3>
<p><img src="/img/docker/%E8%99%9A%E6%8B%9F%E6%9C%BA.png" alt="ËôöÊãüÊú∫"></p>
<p>‚Äã	ËôöÊãüÊú∫ (VM) ÊòØ‰∏Ä‰∏™Áâ©ÁêÜÁ°¨‰ª∂Â±ÇÊäΩË±°ÔºåÁî®‰∫éÂ∞Ü‰∏ÄÂè∞ÊúçÂä°Âô®ÂèòÊàêÂ§öÂè∞ÊúçÂä°Âô®„ÄÇÁÆ°ÁêÜÁ®ãÂ∫èÂÖÅËÆ∏Â§ö‰∏™ VM Âú®‰∏ÄÂè∞Êú∫Âô®‰∏äËøêË°å„ÄÇÊØè‰∏™ VM ÈÉΩÂåÖÂê´‰∏ÄÊï¥Â•óÊìç‰ΩúÁ≥ªÁªü„ÄÅ‰∏Ä‰∏™ÊàñÂ§ö‰∏™Â∫îÁî®„ÄÅÂøÖË¶ÅÁöÑ‰∫åËøõÂà∂Êñá‰ª∂ÂíåÂ∫ìËµÑÊ∫êÔºåÂõ†Ê≠§Âç†Áî®Â§ßÈáèÁ©∫Èó¥„ÄÇËÄå‰∏î VM ÂêØÂä®‰πüÂçÅÂàÜÁºìÊÖ¢„ÄÇ</p>
<h3 id="ÂÆπÂô®ËôöÊãüÂåñÊäÄÊúØ">ÂÆπÂô®ËôöÊãüÂåñÊäÄÊúØ</h3>
<p><img src="/img/docker/%E5%AE%B9%E5%99%A8.png" alt="ÂÆπÂô®"></p>
<p>‚Äã	ÂÆπÂô®ÊòØ‰∏Ä‰∏™Â∫îÁî®Â±ÇÊäΩË±°ÔºåÁî®‰∫éÂ∞Ü‰ª£Á†ÅÂíå‰æùËµñËµÑÊ∫êÊâìÂåÖÂú®‰∏ÄËµ∑„ÄÇÂ§ö‰∏™ÂÆπÂô®ÂèØ‰ª•Âú®Âêå‰∏ÄÂè∞Êú∫Âô®‰∏äËøêË°åÔºåÂÖ±‰∫´Êìç‰ΩúÁ≥ªÁªüÂÜÖÊ†∏Ôºå‰ΩÜÂêÑËá™‰Ωú‰∏∫Áã¨Á´ãÁöÑËøõÁ®ãÂú®Áî®Êà∑Á©∫Èó¥‰∏≠ËøêË°å„ÄÇ‰∏éËôöÊãüÊú∫Áõ∏ÊØîÔºåÂÆπÂô®Âç†Áî®ÁöÑÁ©∫Èó¥ËæÉÂ∞ëÔºàÂÆπÂô®ÈïúÂÉèÂ§ßÂ∞èÈÄöÂ∏∏Âè™ÊúâÂá†ÂçÅÂÖÜÔºâÔºåÁû¨Èó¥Â∞±ËÉΩÂÆåÊàêÂêØÂä®„ÄÇ</p>
<h2 id="‰∏âdocker‰∏âË¶ÅÁ¥†">‰∏â„ÄÅDocker‰∏âË¶ÅÁ¥†</h2>
<p><strong>ÈïúÂÉèÔºàImageÔºâ</strong></p>
<p>‚Äã	ÈïúÂÉèÂ∞±ÊòØ‰∏Ä‰∏™Âè™ËØªÊ®°Êùø„ÄÇÈïúÂÉèÂèØ‰ª•Áî®Êù•ÂàõÂª∫DockerÂÆπÂô®Ôºå‰∏Ä‰∏™ÈïúÂÉèÂèØ‰ª•ÂàõÂª∫Â§ö‰∏™ÂÆπÂô®„ÄÇ</p>
<p><strong>ÂÆπÂô®ÔºàContainerÔºâ</strong></p>
<p>‚Äã	DockerÂà©Áî®ÂÆπÂô®Áã¨Á´ãËøêË°å‰∏Ä‰∏™Êàñ‰∏ÄÁªÑÂ∫îÁî®„ÄÇÂÆπÂô®ÊòØÈïúÂÉèÂàõÂª∫ÁöÑËøêË°åÁ§∫‰æã„ÄÇÂÆÉÂèØ‰ª•Ë¢´ÂêØÂä®„ÄÅÂÅúÊ≠¢„ÄÅÂà†Èô§„ÄÇÊØè‰∏™ÂÆπÂô®ÈÉΩÊòØÁõ∏‰∫íÈöîÁ¶ªÁöÑ„ÄÅ‰øùËØÅÂÆâÂÖ®ÁöÑÂπ≥Âè∞„ÄÇ</p>
<p><strong>‰ªìÂ∫ìÔºàRepositoryÔºâ</strong></p>
<p>‚Äã	‰ªìÂ∫ìÊòØÈõÜ‰∏≠Â≠òÊîæÈïúÂÉèÊñá‰ª∂ÁöÑÂú∫ÊâÄ„ÄÇ‰ªìÂ∫ìÂíå‰ªìÂ∫ìÊ≥®ÂÜåÊúçÂä°Âô®ÔºàRegistryÔºâÊòØÊúâÂå∫Âà´ÁöÑ„ÄÇ‰ªìÂ∫ìÊ≥®ÂÜåÊúçÂä°Âô®‰∏äÂæÄÂæÄÂ≠òÊîæÁùÄÂ§ö‰∏™‰ªìÂ∫ìÔºåÊØè‰∏™‰ªìÂ∫ìÂèàÂåÖÂê´‰∫ÜÂ§ö‰∏™ÈïúÂÉèÔºåÊØè‰∏™ÈïúÂÉèÂèà‰∏çÂêåÁöÑÊ†áÁ≠æÔºàtagÔºâ„ÄÇ</p>
<blockquote>
<p>Ê≥®ÔºöDocker Êú¨Ë∫´ÊòØ‰∏Ä‰∏™ÂÆπÂô®ËøêË°åËΩΩ‰ΩìÊàñÁß∞‰πã‰∏∫ÁÆ°ÁêÜÂºïÊìé„ÄÇÊàë‰ª¨ÊääÂ∫îÁî®Á®ãÂ∫èÂíåÈÖçÁΩÆ‰æùËµñÊâìÂåÖÂΩ¢Êàê‰∏Ä‰∏™ÂèØ‰∫§‰ªòÁöÑËøêË°åÁéØÂ¢ÉÔºåËøô‰∏™ÊâìÂåÖÂ•ΩÁöÑËøêË°åÁéØÂ¢ÉÂ∞±ÊòØÈïúÂÉèÊñá‰ª∂„ÄÇÂè™ÊúâÈÄöËøáËøô‰∏™ÈïúÂÉèÊñá‰ª∂ÊâçËÉΩÁîüÊàêDockerÂÆπÂô®„ÄÇÈïúÂÉèÊñá‰ª∂ÂèØ‰ª•Áúã‰ΩúÊòØÂÆπÂô®ÁöÑÊ®°Êùø„ÄÇDockerÊ†πÊçÆÈïúÂÉèÊñá‰ª∂ÁîüÊàêÂÆπÂô®ÁöÑÂÆû‰æã„ÄÇÂêå‰∏Ä‰∏™ÈïúÂÉèÊñá‰ª∂ÔºåÂèØ‰ª•ÁîüÊàêÂ§ö‰∏™ÂêåÊó∂ËøêË°åÁöÑÂÆπÂô®ÂÆû‰æã„ÄÇ</p>
</blockquote>
<h2 id="ÂõõyumÂÆâË£Ödocker">Âõõ„ÄÅYUMÂÆâË£ÖDocker</h2>
<p><strong>Á¨¨‰∏ÄÊ≠•ÔºöÂç∏ËΩΩÂéüDockerÁªÑ‰ª∂ÔºåÁ°ÆËÆ§ÂÆâË£Ö‰∫Ügcc„ÄÅgcc-c++</strong></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#998;font-style:italic">#Âç∏ËΩΩÊóßdockerÁªÑ‰ª∂</span>
</span></span><span style="display:flex;"><span>yum remove docker docker-client docker-client-latest docker-common docker-latest <span style="color:#d14">\
</span></span></span><span style="display:flex;"><span><span style="color:#d14"></span>docker-latest-logrotate docker-logrotate docker-selinux <span style="color:#d14">\
</span></span></span><span style="display:flex;"><span><span style="color:#d14"></span>docker-engine-selinux docker-engine
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#ÂÆâË£Ö‰æùËµñ</span>
</span></span><span style="display:flex;"><span>yum -y install gcc gcc-c++
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>Á¨¨‰∫åÊ≠•ÔºöÂÆâË£ÖDocker‰ªìÂ∫ì</strong></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#998;font-style:italic">#ÂÆâË£ÖÂøÖË¶ÅÁöÑ‰∏Ä‰∫õÁ≥ªÁªüÂ∑•ÂÖ∑</span>
</span></span><span style="display:flex;"><span>yum install -y yum-utils device-mapper-persistent-data lvm2
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#Ê∑ªÂä†ËΩØ‰ª∂Ê∫ê‰ø°ÊÅØÔºå‰ΩøÁî®ÈòøÈáå‰∫ë‰∏ãËΩΩ</span>
</span></span><span style="display:flex;"><span>yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>Á¨¨‰∏âÊ≠•ÔºöÊõ¥Êñ∞„ÄÅÂÆâË£Ö„ÄÅÂºÄÂêØDockerÊúçÂä°</strong></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#998;font-style:italic">#Êõ¥Êñ∞Âπ∂ÂÆâË£ÖDocker-CE</span>
</span></span><span style="display:flex;"><span>yum makecache fast
</span></span><span style="display:flex;"><span>yum -y install docker-ce
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#ÂºÄÂêØDockerÊúçÂä°</span>
</span></span><span style="display:flex;"><span>systemctl start docker
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>Á¨¨ÂõõÊ≠•ÔºöÈÖçÁΩÆÈïúÂÉèÂä†ÈÄüÂô®</strong></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>sudo mkdir -p /etc/docker
</span></span><span style="display:flex;"><span>sudo tee /etc/docker/daemon.json <span style="color:#d14">&lt;&lt;-&#39;EOF&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#d14">{
</span></span></span><span style="display:flex;"><span><span style="color:#d14">  &#34;registry-mirrors&#34;: [&#34;Ëá™Â∑±ÁöÑÈòøÈáå‰∫ëÂä†ÈÄüÂô®Âú∞ÂùÄ&#34;]
</span></span></span><span style="display:flex;"><span><span style="color:#d14">}
</span></span></span><span style="display:flex;"><span><span style="color:#d14">EOF</span>
</span></span><span style="display:flex;"><span>sudo systemctl daemon-reload
</span></span><span style="display:flex;"><span>sudo systemctl restart docker
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>Á¨¨‰∫îÊ≠•ÔºöËøêË°åhello-worldÈïúÂÉèÈ™åËØÅÊòØÂê¶ÂÆâË£ÖÊàêÂäü</strong></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker run hello-world
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="‰∫îÂëΩ‰ª§">‰∫î„ÄÅÂëΩ‰ª§</h2>
<h3 id="Â∏ÆÂä©ÂëΩ‰ª§">Â∏ÆÂä©ÂëΩ‰ª§</h3>
<ul>
<li>Êü•ÁúãÁâàÊú¨‰ø°ÊÅØ		docker version</li>
<li>Êü•ÁúãËØ¶ÁªÜ‰ø°ÊÅØ		docker info</li>
<li>Êü•ÁúãÂëΩ‰ª§Â∏ÆÂä©		docker &ndash;help</li>
</ul>
<h3 id="ÈïúÂÉèÂëΩ‰ª§">ÈïúÂÉèÂëΩ‰ª§</h3>
<ul>
<li>
<p><strong>ÂàóÂá∫ÈïúÂÉè                   docker images</strong></p>
<table>
<thead>
<tr>
<th>ÂèÇÊï∞</th>
<th>ÊèèËø∞</th>
</tr>
</thead>
<tbody>
<tr>
<td>-a</td>
<td>ÂàóÂá∫Êú¨Âú∞‰∏ªÊú∫‰∏äÁöÑÈïúÂÉèÔºàÂåÖÊã¨‰∏≠Èó¥Â±ÇÈïúÂÉèÔºâ</td>
</tr>
<tr>
<td>-q</td>
<td>ÂàóÂá∫Êú¨Âú∞‰∏ªÊú∫‰∏äÁöÑÈïúÂÉèID</td>
</tr>
</tbody>
</table>
</li>
<li>
<p><strong>ÊêúÁ¥¢ÈïúÂÉè</strong></p>
<p>docker search [ÈïúÂÉèÂêç]</p>
<table>
<thead>
<tr>
<th>ÂèÇÊï∞</th>
<th>ÊèèËø∞</th>
</tr>
</thead>
<tbody>
<tr>
<td>&ndash;filter=stars=3</td>
<td>ÂàóÂá∫ÁÇπËµûÊï∞‰∏çÂ∞è‰∫éÊåáÂÆöÂÄºÁöÑÈïúÂÉè</td>
</tr>
<tr>
<td>&ndash;no-trunc</td>
<td>ÊòæÁ§∫ÂÆåÊï¥ÈïúÂÉèÊèèËø∞</td>
</tr>
</tbody>
</table>
</li>
<li>
<p><strong>ÊãâÂèñ/Âà†Èô§ÈïúÂÉè</strong></p>
<p>docker pull/rmi [ÈïúÂÉèÂêç]:[Tag]</p>
<p>Â∞èÊäÄÂ∑ßÔºödocker rmi -f $(docker images -qa)		Âà†Èô§ÊâÄÊúâÈïúÂÉè</p>
</li>
<li>
<p><strong>Êèê‰∫§ÂÆπÂô®‰Ωú‰∏∫ÈïúÂÉè</strong></p>
<p>docker -a=&ldquo;‰ΩúËÄÖÂêç&rdquo; -m=&ldquo;ÊèèËø∞‰ø°ÊÅØ&rdquo; commit [ÂÆπÂô®ID] ÂêçÁß∞:TagÊ†áÁ≠æ</p>
</li>
<li>
<p><strong>‰øùÂ≠ò„ÄêÂØºÂá∫„ÄëÈïúÂÉè</strong></p>
<p>docker save [ÈïúÂÉèÂêç]:[Tag] -o /path/[name].tar</p>
</li>
<li>
<p><strong>Âä†ËΩΩÈïúÂÉè</strong></p>
<p>docker load -i [name].tar</p>
</li>
</ul>
<h3 id="ÂÆπÂô®ÂëΩ‰ª§">ÂÆπÂô®ÂëΩ‰ª§</h3>
<ul>
<li>
<p><strong>ËøêË°åÂÆπÂô®ÂëΩ‰ª§</strong>		 <strong>docker run [ÈïúÂÉèÂêç]:[Tag]</strong></p>
<table>
<thead>
<tr>
<th>ÂèÇÊï∞</th>
<th>ÊèèËø∞</th>
</tr>
</thead>
<tbody>
<tr>
<td>-i</td>
<td>‰ª•‰∫§‰∫íÊ®°ÂºèËøêË°åÂÆπÂô®ÔºåÈÄöÂ∏∏‰∏é-tÂêåÊó∂‰ΩøÁî®</td>
</tr>
<tr>
<td>-t</td>
<td>‰∏∫ÂÆπÂô®ÈáçÊñ∞ÂàÜÈÖç‰∏Ä‰∏™‰º™ËæìÂÖ•ÁªàÁ´ØÔºåÈÄöÂ∏∏‰∏é-iÂêåÊó∂‰ΩøÁî®</td>
</tr>
<tr>
<td>-p</td>
<td>ÊåáÂÆöÊò†Â∞ÑÁ´ØÂè£ÔºåÂΩ¢ÂºèhostPortÔºöContainerPort</td>
</tr>
<tr>
<td>-P</td>
<td>ÈöèÊú∫Á´ØÂè£Êò†Â∞Ñ</td>
</tr>
<tr>
<td>-d</td>
<td>ÂêéÂè∞ËøêË°åÂÆπÂô®</td>
</tr>
<tr>
<td>&ndash;name</td>
<td>‰∏∫ÂÆπÂô®ÊåáÂÆöÂêçÁß∞</td>
</tr>
<tr>
<td>&ndash;restart=always</td>
<td>dockerÊúçÂä°ÂêØÂä®ÂÆπÂô®Â∞±ÂêØÂä®</td>
</tr>
<tr>
<td>-h name</td>
<td>ËÆæÁΩÆ‰∏ªÊú∫Âêç</td>
</tr>
<tr>
<td>&ndash;add-host name:ip</td>
<td>Ê≥®ÂÖ•hostnameÁöÑIPËß£Êûê</td>
</tr>
<tr>
<td>&ndash;rm</td>
<td>ÂÆπÂô®ÂÅúÊ≠¢Êó∂Ëá™Âä®Âà†Èô§</td>
</tr>
<tr>
<td>&ndash;link cname:hostName</td>
<td>ÂêëÂÆπÂô®ÁöÑ/etc/hostsÊ∑ªÂä†Âè¶‰∏Ä‰∏™IPÂú∞ÂùÄÁöÑÊò†Â∞ÑÂΩ¢Âºè</td>
</tr>
</tbody>
</table>
</li>
<li>
<p><strong>ÈÄÄÂá∫ÂÆπÂô®ÊñπÊ≥ï</strong></p>
<ul>
<li>exit			     ÂÆπÂô®ÂÅúÊ≠¢ÈÄÄÂá∫</li>
<li>ctrl+p+q		ÂÆπÂô®‰∏çÂÅúÊ≠¢ÈÄÄÂá∫</li>
</ul>
</li>
<li>
<p><strong>Êü•ÁúãÂÆπÂô®ËøõÁ®ã</strong>		<strong>docker ps</strong></p>
<table>
<thead>
<tr>
<th>ÂèÇÊï∞</th>
<th>ÊèèËø∞</th>
</tr>
</thead>
<tbody>
<tr>
<td>-l</td>
<td>‰∏äÊ¨°ËøêË°åÁöÑÂÆπÂô®</td>
</tr>
<tr>
<td>-a</td>
<td>ÊâÄÊúâËøêË°åËøáÁöÑÂÆπÂô®</td>
</tr>
<tr>
<td>-q</td>
<td>ÈùôÈªòÂè™ÊòæÁ§∫ÂÆπÂô®ÁºñÂè∑</td>
</tr>
</tbody>
</table>
</li>
<li>
<p><strong>ÂêØÂä®/ÈáçÂêØ/ÂÅúÊ≠¢ÂÆπÂô®</strong></p>
<p>docker start/restart/stop  [ÂÆπÂô®ID]</p>
</li>
<li>
<p><strong>Âº∫Âà∂ÂÅúÊ≠¢ÂÆπÂô®</strong></p>
<p>docker kill [ÂÆπÂô®ID]</p>
</li>
<li>
<p><strong>Âà†Èô§ÂÖ≥Èó≠ÁöÑÂÆπÂô®</strong></p>
<p>docker rm [ÂÆπÂô®ID]</p>
<table>
<thead>
<tr>
<th>ÂèÇÊï∞</th>
<th>ÊèèËø∞</th>
</tr>
</thead>
<tbody>
<tr>
<td>-f</td>
<td>Âº∫Âà∂Âà†Èô§</td>
</tr>
</tbody>
</table>
<p>Â∞èÊäÄÂ∑ßÔºödocker rm -f $(docker ps -qa)		Âà†Èô§ÊâÄÊúâÂÆπÂô®</p>
</li>
<li>
<p><strong>Êü•ÁúãÂÆπÂô®Êó•Âøó		docker logs [ÂÆπÂô®ID]</strong></p>
<table>
<thead>
<tr>
<th>ÂèÇÊï∞</th>
<th>ÊèèËø∞</th>
</tr>
</thead>
<tbody>
<tr>
<td>-f</td>
<td>‰∏ÄÁõ¥ËøΩÂä†ÔºåÊòæÁ§∫ÊúÄÊñ∞Êó•Âøó</td>
</tr>
<tr>
<td>-t</td>
<td>ÊòæÁ§∫ÊØèÊù°Êó•ÂøóÊó∂Èó¥Êà≥</td>
</tr>
</tbody>
</table>
</li>
<li>
<p><strong>Êü•ÁúãÂÆπÂô®ËøêË°åËøõÁ®ã‰ø°ÊÅØ</strong></p>
<p>docker top [ÂÆπÂô®ID]</p>
</li>
<li>
<p><strong>Êü•ÁúãÂÆπÂô®ÂÜÖÈÉ®ÁªÜËäÇ</strong></p>
<p>docker inspect [ÂÆπÂô®ID]</p>
</li>
<li>
<p><strong>Êü•ÁúãÂÆπÂô®Âç†Áî®ÁöÑÁ≥ªÁªüËµÑÊ∫ê</strong></p>
<p>docker stats [ÂÆπÂô®ID]</p>
<blockquote>
<p>‰∏çÂä†ÂÆπÂô®IDÂàôÊü•ÁúãÊâÄÊúâÂÆπÂô®ÁöÑÁ≥ªÁªüËµÑÊ∫ê</p>
</blockquote>
</li>
<li>
<p><strong>ÈáçÊñ∞ËøõÂÖ•ÂÆπÂô®</strong></p>
<p>docker attach [ÂÆπÂô®ID]</p>
</li>
<li>
<p><strong>ËøõÂÖ•ÂÆπÂô®ÊâßË°åShellÂëΩ‰ª§</strong></p>
<p>docker exec -it [ÂÆπÂô®id ShellÂëΩ‰ª§]</p>
</li>
<li>
<p><strong>Êã∑Ë¥ùÂÆπÂô®ÂÜÖÊñá‰ª∂</strong></p>
<p>docker cp [ÂÆπÂô®ID]:ÂÆπÂô®Ë∑ØÂæÑ Êú¨Êú∫Ë∑ØÂæÑ</p>
</li>
<li>
<p><strong>ÂÆπÂô®ËøêË°åÊú∫Âà∂</strong></p>
</li>
</ul>
<p>‚Äã	DockerÂÆπÂô®ÂêéÂè∞ËøêË°åÔºåÂ∞±ÂøÖÈ°ªÊúâ‰∏Ä‰∏™ÂâçÂè∞ËøõÁ®ãÔºåÂÆπÂô®ËøêË°åÁöÑÂëΩ‰ª§Â¶ÇÊûú‰∏çÊòØ‰ºöÊåÇËµ∑ÁöÑÂëΩ‰ª§ÔºàÊØîÂ¶ÇtopÔºâÔºå‰ºöËá™Âä®ÈÄÄÂá∫„ÄÇÊúÄ‰Ω≥ÁöÑËß£ÂÜ≥ÊñπÊ°àÊòØÔºåÂ∞ÜË¶ÅËøêË°åÁöÑÁ®ãÂ∫è‰ª•ÂâçÂè∞ËøõÁ®ãÁöÑÂΩ¢ÂºèËøêË°å</p>
<h2 id="ÂÖ≠docker-compose">ÂÖ≠„ÄÅDocker Compose</h2>
<p>‚Äã	Docker ComposeÊòØÂÆπÂô®ÁºñÊéíÂ∑•ÂÖ∑ÔºåÂÖÅËÆ∏Áî®Êà∑Âú®‰∏Ä‰∏™Ê®°ÊùøÔºàYAMLÊ†ºÂºèÔºâ‰∏≠ÂÆö‰πâ‰∏ÄÁªÑÁõ∏ÂÖ≥ËÅîÁöÑÂÆπÂô®ÔºåÂØπÂêØÂä®ÁöÑ‰ºòÂÖàÁ∫ßËøõË°åÊéíÂ∫è„ÄÇ</p>
<table>
<thead>
<tr>
<th>ÂëΩ‰ª§</th>
<th>Ëß£Èáä</th>
</tr>
</thead>
<tbody>
<tr>
<td>-f</td>
<td>ÊåáÂÆöYAMLÊñá‰ª∂‰ΩçÁΩÆ</td>
</tr>
<tr>
<td>ps</td>
<td>ÊòæÁ§∫ÂÆπÂô®ÊâÄÊúâ‰ø°ÊÅØ</td>
</tr>
<tr>
<td>start/stop/restart</td>
<td>ÂêØÂä®/ÂÅúÊ≠¢/ÈáçÂêØÂÆπÂô®„ÄêÂ∑≤Âä†ËΩΩÊàê‰∏∫ÂÆπÂô®„Äë</td>
</tr>
<tr>
<td>logs</td>
<td>Êü•ÁúãÊó•Âøó‰ø°ÊÅØ</td>
</tr>
<tr>
<td>config -q</td>
<td>È™åËØÅYAMLÊòØÂê¶Ê≠£Á°Æ</td>
</tr>
<tr>
<td>up -d</td>
<td>ÂêØÂä®ÂÆπÂô®È°πÁõÆ„ÄêÊú™Âä†ËΩΩÊàê‰∏∫ÂÆπÂô®„Äë</td>
</tr>
<tr>
<td>pause</td>
<td>ÊöÇÂÅúÂÆπÂô®</td>
</tr>
<tr>
<td>unpause</td>
<td>ÊÅ¢Â§çÊöÇÂÅú</td>
</tr>
<tr>
<td>rm</td>
<td>Âà†Èô§ÂÆπÂô®</td>
</tr>
</tbody>
</table>
<p>ÁÆÄÂçïÁ§∫‰æãÔºö</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#000080">version</span>:<span style="color:#bbb"> </span><span style="color:#d14">&#39;3&#39;</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#000080">services</span>:<span style="color:#bbb"> 
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#000080">db</span>:<span style="color:#bbb"> 
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000080">image</span>:<span style="color:#bbb"> </span><span style="color:#d14">&#39;mysql:5.7&#39;</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000080">restart</span>:<span style="color:#bbb"> </span><span style="color:#d14">&#39;always&#39;</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000080">environment</span>:<span style="color:#bbb"> 
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">      </span><span style="color:#000080">MYSQL_ROOT_PASSWORD</span>:<span style="color:#bbb"> </span><span style="color:#d14">&#39;root&#39;</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">      </span><span style="color:#000080">MYSQL_DATABASE</span>:<span style="color:#bbb"> </span><span style="color:#d14">&#39;wordpress&#39;</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">      </span><span style="color:#000080">MYSQL_USER</span>:<span style="color:#bbb"> </span><span style="color:#d14">&#39;wordpress&#39;</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">      </span><span style="color:#000080">MYSQL_PASSWORD</span>:<span style="color:#bbb"> </span><span style="color:#d14">&#39;wordpress&#39;</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#000080">wordpress</span>:<span style="color:#bbb"> 
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000080">depends_on</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">      </span>- db<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000080">image</span>:<span style="color:#bbb"> </span><span style="color:#d14">&#39;wordpress:latest&#39;</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000080">restart</span>:<span style="color:#bbb"> </span><span style="color:#d14">&#39;always&#39;</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000080">ports</span>:<span style="color:#bbb"> 
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">      </span>- <span style="color:#d14">&#39;8080:80&#39;</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000080">environment</span>:<span style="color:#bbb"> 
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">      </span><span style="color:#000080">WORDPRESS_DB_HOST</span>:<span style="color:#bbb"> </span><span style="color:#d14">&#39;db:3306&#39;</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">      </span><span style="color:#000080">WORDPRESS_DB_USER</span>:<span style="color:#bbb"> </span><span style="color:#d14">&#39;wordpress&#39;</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">      </span><span style="color:#000080">WORDPRESS_DB_PASSWORD</span>:<span style="color:#bbb"> </span><span style="color:#d14">&#39;wordpress&#39;</span><span style="color:#bbb">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h2 id="‰∏ÉÈïúÂÉèÂä†ËΩΩÂéüÁêÜ">‰∏É„ÄÅÈïúÂÉèÂä†ËΩΩÂéüÁêÜ</h2>
<h3 id="unionfs-ËÅîÂêàÊñá‰ª∂Á≥ªÁªü">UnionFS ËÅîÂêàÊñá‰ª∂Á≥ªÁªü</h3>
<p>‚Äã	ËÅîÂêàÊñá‰ª∂Á≥ªÁªüÊòØ‰∏ÄÁßçÂàÜÂ±Ç„ÄÅËΩªÈáèÁ∫ßÂπ∂‰∏îÈ´òÊÄßËÉΩÁöÑÊñá‰ª∂Á≥ªÁªüÔºå‰ªñÊîØÊåÅÂØπÊñá‰ª∂Á≥ªÁªüÁöÑ‰øÆÊîπ‰Ωú‰∏∫‰∏ÄÊ¨°Êèê‰∫§Êù•‰∏ÄÂ±Ç‰∏ÄÂ±ÇÁöÑÂè†Âä†ÔºåÂêåÊó∂ÂèØ‰ª•Â∞Ü‰∏çÂêåÁõÆÂΩïÊåÇËΩΩÂà∞Âêå‰∏Ä‰∏™ËôöÊãüÊñá‰ª∂Á≥ªÁªü‰∏ã„ÄÇUnionÊñá‰ª∂Á≥ªÁªüÊòØDockerÈïúÂÉèÁöÑÂü∫Á°Ä„ÄÇÈïúÂÉèÂèØ‰ª•ÈÄöËøáÂàÜÊàêÊù•ËøõË°åÁªßÊâøÔºåÂü∫‰∫éÂü∫Á°ÄÈïúÂÉèÔºàÊ≤°ÊúâÁà∂ÈïúÂÉèÔºâÔºåÂèØ‰ª•Âà∂‰ΩúÂêÑÁßçÂÖ∑‰ΩìÁöÑÂ∫îÁî®ÈïúÂÉè„ÄÇ</p>
<p>‚Äã	ÁâπÂæÅÔºö‰∏ÄÊ¨°ÂêåÊó∂Âä†ËΩΩÂ§ö‰∏™Êñá‰ª∂Á≥ªÁªüÔºå‰ΩÜ‰ªéÂ§ñÈù¢ÁúãËµ∑Êù•ÔºåÂè™ËÉΩÁúãÂà∞‰∏Ä‰∏™Êñá‰ª∂Á≥ªÁªüÔºåËÅîÂêàÂä†ËΩΩ‰ºöÊääÂêÑÂ±ÇÊñá‰ª∂Á≥ªÁªüÂè†Âä†Ëµ∑Êù•ÔºåËøôÊ†∑ÊúÄÁªàÁöÑÊñá‰ª∂Á≥ªÁªü‰ºöÂåÖÂê´ÊâÄÊúâÂ∫ïÂ±ÇÁöÑÊñá‰ª∂ÂíåÁõÆÂΩï„ÄÇ</p>
<h3 id="dockerÈïúÂÉèÂä†ËΩΩÂéüÁêÜ">DockerÈïúÂÉèÂä†ËΩΩÂéüÁêÜ</h3>
<p>‚Äã	dockerÁöÑÈïúÂÉèÂÆûÈôÖ‰∏äÁî±‰∏ÄÂ±Ç‰∏ÄÂ±ÇÁöÑÊñá‰ª∂Á≥ªÁªüÁªÑÊàêÂç≥ËÅîÂêàÊñá‰ª∂Á≥ªÁªü„ÄÇ</p>
<p><img src="/img/docker/docker%E9%95%9C%E5%83%8F%E5%8E%9F%E7%90%86.png" alt="dockerÈïúÂÉèÂéüÁêÜ"></p>
<p>‚Äã	bootfs(boot file system)‰∏ªË¶ÅÂåÖÂê´bootloaderÂíåkernel, bootloader ‰∏ªË¶ÅÊòØÂºïÂØºÂä†ËΩΩkernel, LinuxÂàöÂêØÂä®Êó∂‰ºöÂä†ËΩΩbootfsÊñá‰ª∂Á≥ªÁªüÔºåÂú® DockerÈïúÂÉèÁöÑÊúÄÂ∫ïÂ±ÇÊòØbootfs.Ëøô‰∏ÄÂ±Ç‰∏éÊàë‰ª¨ÂÖ∏ÂûãÁöÑLinux/UnixÁ≥ªÁªüÊòØ‰∏Ä‰∏ÄÊ†∑ÁöÑÔºåÂåÖÂê´bootÂä†ËΩΩÂô®ÂíåÂÜÖÊ†∏„ÄÇÂΩìbootÂä†ËΩΩÂÆåÊàê‰πãÂêéÊï¥‰∏™ÂÜÖÊ†∏Â∞±ÈÉΩÂú®ÂÜÖÂ≠ò‰∏≠‰∫ÜÔºåÊ≠§Êó∂ÂÜÖÂ≠òÁöÑ‰ΩøÁî®ÊùÉÂ∑±Áî±bootfsËΩ¨‰∫§ÁªôÂÜÖÊ†∏ÔºåÊ≠§Êó∂Á≥ªÁªü‰πü‰ºöÂç∏ËΩΩbootfs„ÄÇ</p>
<p>‚Äã	rootfs (root file system)ÔºåÂú®bootfs‰πã ‰∏ä.ÂåÖÂê´ÁöÑÂ∞±ÊòØÂÖ∏ÂûãLinuxÁ≥ªÁªü‰∏≠ÁöÑ/dev, /proc, /bin, /etcÁ≠âÊ†áÂáÜÁõÆÂΩïÂíåÊñá‰ª∂„ÄÇrootfsÂ∞±ÊòØ ÂêÑÁßç‰∏çÂêåÁöÑÊìç‰ΩúÁ≥ªÁªüÂèëË°åÁâàÔºåÊØîÂ¶ÇUbuntu, CentosÁ≠âÁ≠â „ÄÇ</p>
<p>‚Äã	ÂØπ‰∫é‰∏Ä‰∏™Á≤æÁÆÄÁöÑOSÔºårootfs ÂèØ‰ª•ÂæàÂ∞èÔºåÂè™ÈúÄË¶ÅÂåÖÊã¨ÊúÄÂü∫Êú¨ÁöÑÂëΩ‰ª§„ÄÅÂ∑•ÂÖ∑ÂíåÁ®ãÂ∫èÂ∫ìÂ∞±ÂèØ‰ª•‰∫ÜÔºåÂõ†‰∏∫Â∫ïÂ±ÇÁõ¥Êé•Áî®ÂÆø‰∏ªÊú∫ÁöÑkernel,Ëá™Â∑±Âè™ÈúÄË¶ÅÊèê‰æõrootfsÂ∞±Ë°å‰∫Ü„ÄÇÁî±Ê≠§ÂèØËßÅÂØπ‰∫é‰∏çÂêåÁöÑlinuxÂèëË°åÁâàÔºåbootfsÂü∫Êú¨ÊòØ‰∏ÄËá¥ÁöÑÔºårootfs‰ºöÊúâÂ∑ÆÂà´ÔºåÂõ†Ê≠§‰∏çÂêåÁöÑÂèëË°åÁâàÂèØ‰ª•ÂÖ¨Áî®bootfs „ÄÇ</p>
<p><img src="/img/docker/docker%E9%95%9C%E5%83%8F%E7%BB%93%E6%9E%84.png" alt="dockerÈïúÂÉèÁªìÊûÑ"></p>
<p>‚Äã	Ê≥®ÊÑèÔºödockerÂú®bootfsËá™Ê£ÄÂÆåÊØï‰πãÂêéÂπ∂‰∏ç‰ºöÊäärootfsÁöÑread-onlyÊîπ‰∏∫read-write„ÄÇËÄåÊòØÂà©Áî®union mountÔºàUnionFSÁöÑ‰∏ÄÁßçÊåÇËΩΩÊú∫Âà∂ÔºâÂ∞Ü‰∏Ä‰∏™ÊàñÂ§ö‰∏™read-onlyÁöÑrootfsÂä†ËΩΩÂà∞‰πãÂâçÁöÑread-onlyÁöÑrootfsÂ±Ç‰πã‰∏ä„ÄÇÂú®Âä†ËΩΩ‰∫ÜËøô‰πàÂ§öÂ±ÇÁöÑrootfs‰πãÂêéÔºå‰ªçÁÑ∂ËÆ©ÂÆÉÁúãËµ∑Êù•Âè™ÂÉèÊòØ‰∏Ä‰∏™Êñá‰ª∂Á≥ªÁªüÔºåÂú®DockerÁöÑ‰ΩìÁ≥ªÈáåÊääunion mountÁöÑËøô‰∫õread-onlyÁöÑrootfsÂè´ÂÅöDockerÁöÑÈïúÂÉè„ÄÇ‰ΩÜÊòØÔºåÊ≠§Êó∂ÁöÑÊØè‰∏ÄÂ±ÇrootfsÈÉΩÊòØread-onlyÁöÑÔºåÊàë‰ª¨Ê≠§Êó∂Ëøò‰∏çËÉΩÂØπÂÖ∂ËøõË°åÊìç‰Ωú„ÄÇÂΩìÊàë‰ª¨ÂàõÂª∫‰∏Ä‰∏™ÂÆπÂô®Ôºå‰πüÂ∞±ÊòØÂ∞ÜDockerÈïúÂÉèËøõË°åÂÆû‰æãÂåñÔºåÁ≥ªÁªü‰ºöÂú®‰∏ÄÂ±ÇÊàñÊòØÂ§öÂ±Çread-onlyÁöÑrootfs‰πã‰∏äÂàÜÈÖç‰∏ÄÂ±ÇÁ©∫ÁöÑread-writeÁöÑrootfs„ÄÇ</p>
<h2 id="ÂÖ´ÂÆπÂô®Êï∞ÊçÆÂç∑">ÂÖ´„ÄÅÂÆπÂô®Êï∞ÊçÆÂç∑</h2>
<h3 id="ÁÆÄ‰ªã">ÁÆÄ‰ªã</h3>
<p>‚Äã	ÂÆπÂô®Êï∞ÊçÆÂç∑ÁöÑ‰ΩúÁî®ÊòØÊï∞ÊçÆÂÖ±‰∫´ÂíåÊï∞ÊçÆÊåÅ‰πÖÂåñ„ÄÇÂç∑Â∞±ÊòØÁõÆÂΩïÊàñÊñá‰ª∂ÔºåÂ≠òÂú®‰∫é‰∏Ä‰∏™ÊàñÂ§ö‰∏™ÂÆπÂô®‰∏≠ÔºåÁî±dockerÊåÇËΩΩÂà∞ÂÆπÂô®Ôºå‰ΩÜ‰∏çÂ±û‰∫éËÅîÂêàÊñá‰ª∂Á≥ªÁªüÔºåÂõ†Ê≠§ËÉΩÂ§üÁªïËøáËÅîÂêàÊñá‰ª∂Á≥ªÁªüÔºåÊèê‰æõ‰∏Ä‰∫õÁî®‰∫éÊåÅÁª≠Â≠òÂÇ®ÊàñÂÖ±‰∫´Êï∞ÊçÆÁöÑÂäüËÉΩ„ÄÇ</p>
<p>‚Äã	Âç∑ÁöÑËÆæËÆ°ÁõÆÁöÑÂ∞±ÊòØÊåÅ‰πÖÂåñÔºåÂÆåÂÖ®Áã¨Á´ã‰∫éÂÆπÂô®ÁöÑÁîüÂëΩÂë®ÊúüÔºåÂõ†Ê≠§docker‰∏ç‰ºöÂú®ÂÆπÂô®Âà†Èô§Êó∂Âà†Èô§ÂÖ∂ÊåÇËΩΩÁöÑÊï∞ÊçÆÂç∑„ÄÇÂ¶ÇÊûúÊ≤°ÊúâÊåáÂÆöÊò†Â∞ÑÂç∑‰ΩçÁΩÆÔºàÂÆπÂô®Êï∞ÊçÆÂç∑ÔºâÂ∞Ü‰ºöÂú®<code>/var/lib/docker/volumes</code>‰∏ãÂàõÂª∫ÈªòËÆ§<strong>ÂÆπÂô®ÁÆ°ÁêÜÊï∞ÊçÆÂç∑</strong></p>
<p>ÂÆπÂô®Âç∑ÂÖ∑Êúâ‰ª•‰∏ãÁâπÁÇπÔºö</p>
<ul>
<li>ÂÆπÂô®Âç∑ÂèØÂú®ÂÆπÂô®‰πãÈó¥ÂÖ±‰∫´ÊàñÈáçÁî®Êï∞ÊçÆ</li>
<li>Âç∑‰∏≠ÁöÑÊõ¥ÊîπÂèØ‰ª•Áõ¥Êé•ÁîüÊïà</li>
<li>Êï∞ÊçÆÂç∑‰∏≠ÁöÑÊõ¥Êîπ‰∏ç‰ºöÂåÖÂê´Âú®ÈïúÂÉèÁöÑÊõ¥Êñ∞ÂΩì‰∏≠</li>
<li>Êï∞ÊçÆÂç∑ÁöÑÁîüÂëΩÂë®Êúü‰∏ÄÁõ¥ÊåÅÁª≠Âà∞Ê≤°ÊúâÂÆπÂô®‰ΩøÁî®ÂÆÉ‰∏∫Ê≠¢</li>
</ul>
<h3 id="‰ΩøÁî®ÂÆπÂô®Êï∞ÊçÆÂç∑">‰ΩøÁî®ÂÆπÂô®Êï∞ÊçÆÂç∑</h3>
<p>ÊåÇËΩΩÂÆåÊàêÂèØ‰ª•‰ΩøÁî®docker inspectÂëΩ‰ª§Êü•ÁúãÁõ∏ÂÖ≥Êï∞ÊçÆÂç∑ÊåÇËΩΩ‰ø°ÊÅØ</p>
<ul>
<li>
<p>‰ΩøÁî®ÂëΩ‰ª§</p>
<p><strong>docker run [options] -v [ÂÆø‰∏ªÊú∫ÁªùÂØπË∑ØÂæÑ]:[dockerÂÆπÂô®ÁªùÂØπË∑ØÂæÑ] ÈïúÂÉèID</strong>				ÊåÇËΩΩÂÆπÂô®Êï∞ÊçÆÂç∑</p>
<p><strong>docker run [options] -v [ÂÆø‰∏ªÊú∫ÁªùÂØπË∑ØÂæÑ]:[dockerÂÆπÂô®ÁªùÂØπË∑ØÂæÑ]:[ro] ÈïúÂÉèID</strong>			Âè™ËØªÊ®°ÂºèÊåÇËΩΩ</p>
<blockquote>
<p>ÊåáÂÆöÂÆø‰∏ªÊú∫Ë∑ØÂæÑÔºåÁõÆÁöÑÊó∂‰∏∫‰∫ÜËØªÂÜôÊï∞ÊçÆ</p>
<p>Ëã•‰∏çÊåáÂÆöÂÆø‰∏ªÊú∫Ë∑ØÂæÑÔºåÂàôdockerËá™Âä®ÂàõÂª∫‰∏Ä‰∏™ÁõÆÂΩïÔºåËøôÊ†∑‰ΩøÁî®ÊòØ‰∏∫‰∫ÜÂÖ±‰∫´Êï∞ÊçÆ</p>
</blockquote>
<p>Ê≥®ÊÑèÔºöÂΩìÂÆø‰∏ªÊú∫Âà†Èô§‰∏éÂÆπÂô®ÊåÇËΩΩÁöÑÁõÆÂΩïÊó∂ÔºåÂÆπÂô®ÁöÑÊåÇËΩΩÁõÆÂΩïÂèò‰∏∫Âè™ËØª„ÄÇÂç≥‰ΩøÂÆø‰∏ªÊú∫ÊÅ¢Â§çÂÆπÂô®ÁöÑÊåÇËΩΩÁõÆÂΩï‰πüÊó†Êïà</p>
</li>
<li>
<p>‰ΩøÁî®DockerFileÊñá‰ª∂ÁöÑVOLUMEÂëΩ‰ª§ÂàõÂª∫ÂÆπÂô®ÁÆ°ÁêÜÊï∞ÊçÆÂç∑</p>
<p><strong>VOLUME [&ldquo;dockerÂÆπÂô®ÁªùÂØπË∑ØÂæÑ&rdquo;,&ldquo;dockerÂÆπÂô®ÁªùÂØπË∑ØÂæÑ&rdquo;]</strong></p>
<p>Âè™‰ºöÂú®ÂÆπÂô®ÂÜÖÂàõÂª∫ÔºåÂÆø‰∏ªÊú∫ÁõÆÂΩïÁî±dockerËá™Ë°åÂàõÂª∫ÔºåÁõÆÁöÑÊó∂‰∏∫‰∫ÜÊï∞ÊçÆÂÖ±‰∫´</p>
</li>
<li>
<p>Êï∞ÊçÆÂç∑ÂÆπÂô®</p>
<p>ÂëΩÂêçÁöÑÂÆπÂô®ÊåÇËΩΩÊï∞ÊçÆÂç∑ÔºåÂÖ∂ÂÆÉÂÆπÂô®ÈÄöËøáÊåÇÂú®Ëøô‰∏™Áà∂ÂÆπÂô®ÂÆûÁé∞Êï∞ÊçÆÂÖ±‰∫´ÔºåÊåÇËΩΩÁöÑÂÆπÂô®Ë¢´Áß∞‰∏∫Êï∞ÊçÆÂç∑ÂÆπÂô®</p>
<p><strong>docker run [options] &ndash;volumes-from Êï∞ÊçÆÂç∑ÂÆπÂô®ÂêçÁß∞ ÈïúÂÉèÂêçÁß∞</strong></p>
</li>
</ul>
<h2 id="‰πùdockerfile">‰πù„ÄÅDockerFile</h2>
<h3 id="Âü∫Á°ÄÁü•ËØÜ">Âü∫Á°ÄÁü•ËØÜ</h3>
<ul>
<li>ÊØèÊù°‰øùÁïôÂ≠óÊåá‰ª§ÈÉΩÂøÖÈ°ª‰∏∫Â§ßÂÜôÂ≠óÊØç‰∏îÂêéÈù¢Ëá≥Â∞ëË∑üÈöè‰∏Ä‰∏™ÂèÇÊï∞</li>
<li>Êåá‰ª§ÊåâÁÖß‰ªé‰∏äÂà∞‰∏ãÔºåÈ°∫Â∫èÊâßË°å</li>
<li>#Ë°®Á§∫Ê≥®Èáä</li>
<li>ÊØèÊù°Êåá‰ª§ÈÉΩ‰ºöÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÈïúÂÉèÂ±ÇÔºåÂπ∂ÂØπÈïúÂÉèËøõË°åÊèê‰∫§</li>
<li>ÊúÄÂ§ß‰∏çËÉΩË∂ÖËøá128Â±Ç</li>
</ul>
<h3 id="‰øùÁïôÂÖ≥ÈîÆÂ≠ó">‰øùÁïôÂÖ≥ÈîÆÂ≠ó</h3>
<table>
<thead>
<tr>
<th>ÂÖ≥ÈîÆÂ≠ó</th>
<th>ÊèèËø∞</th>
</tr>
</thead>
<tbody>
<tr>
<td>FROM</td>
<td>Âü∫Á°ÄÈïúÂÉèÔºåÂΩìÂâçÊñ∞ÈïúÂÉèÊó∂Âü∫‰∫éÂì™‰∏™ÈïúÂÉè</td>
</tr>
<tr>
<td>LABEL</td>
<td>ÈïúÂÉèÁª¥Êä§ËÄÖÁöÑ‰ø°ÊÅØ</td>
</tr>
<tr>
<td>RUN</td>
<td>ÊâßË°åÁöÑSHELLÂëΩ‰ª§</td>
</tr>
<tr>
<td>EXPOSE</td>
<td>Êö¥Èú≤ÊúçÂä°ÁöÑÁ´ØÂè£ÔºåÂè™Ëµ∑ÊòæÁ§∫‰ΩúÁî®</td>
</tr>
<tr>
<td>WORKDIR</td>
<td>ÁªàÁ´ØÁôªÈôÜ‰πãÂêéÁöÑÂ∑•‰ΩúÁõÆÂΩï</td>
</tr>
<tr>
<td>ENV</td>
<td>ËÆæÁΩÆÁéØÂ¢ÉÂèòÈáè</td>
</tr>
<tr>
<td>ADD</td>
<td>ÊääÊñá‰ª∂Êã∑Ë¥ùÂà∞ÈïúÂÉèÂπ∂Ëß£Âéã„ÄêÂøÖÈ°ªÂíåDockerfileÂú®Âêå‰∏ÄÁ∫ßÁõÆÂΩï‰∏ãÔºå‰∏çÁî®Âä†ÁªùÂØπË∑ØÂæÑ„Äë</td>
</tr>
<tr>
<td>COPY</td>
<td>ÊääÊñá‰ª∂Êã∑Ë¥ùÂà∞ÈïúÂÉè„ÄêÂøÖÈ°ªÂíåDockerfileÂú®Âêå‰∏ÄÁ∫ßÁõÆÂΩï‰∏ãÔºå‰∏çÁî®Âä†ÁªùÂØπË∑ØÂæÑ„Äë</td>
</tr>
<tr>
<td>VOLUME</td>
<td>ÂàõÂª∫Êï∞ÊçÆÂÆπÂô®Âç∑</td>
</tr>
<tr>
<td>CMD</td>
<td>ÊåáÂÆöÂÆπÂô®ÂêØÂä®Êó∂Ë¶ÅËøêË°åÁöÑÂëΩ‰ª§ÔºåÂèØ‰ª•ÊúâÂ§ö‰∏™CMDÂëΩ‰ª§Ôºå‰ΩÜÂè™ÊúâÊúÄÂêé‰∏Ä‰∏™ÁîüÊïàÔºåCMD‰ºöË¢´docker run ‰πãÂêéÁöÑÂèÇÊï∞ÊõøÊç¢</td>
</tr>
<tr>
<td>ENTRYPOINT</td>
<td>ÊåáÂÆöÂÆπÂô®ÂêØÂä®Êó∂Ë¶ÅËøêË°åÁöÑÂëΩ‰ª§Ôºå‰∏ç‰ºöË¶ÜÁõñÂè™‰ºöËøΩÂä†</td>
</tr>
<tr>
<td>ONBUILD</td>
<td>ÂΩìÊûÑÂª∫‰∏Ä‰∏™Ë¢´ÁªßÊâøÁöÑDockerfileÊó∂ËøêË°åÁöÑÂëΩ‰ª§ÔºåÁà∂ÈïúÂÉèÂú®Ë¢´Â≠êÈïúÂÉèÁªßÊâøÊó∂Ëß¶Âèë</td>
</tr>
</tbody>
</table>
<h3 id="Á§∫‰æã">Á§∫‰æã</h3>
<ul>
<li>ÁÆÄÂçïÁöÑ‰ΩøÁî®</li>
</ul>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-dockerfile" data-lang="dockerfile"><span style="display:flex;"><span><span style="color:#998;font-style:italic">#Âú®centos‰∏äÊû∂ÊûÑ</span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#000;font-weight:bold">FROM</span><span style="color:#d14"> centos</span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#998;font-style:italic">#‰ΩúËÄÖ‰ø°ÊÅØ</span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#000;font-weight:bold">LABEL</span> org.kun.vendor<span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;WangYuKun&#34;</span> org.kun.build-date<span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;20181218&#34;</span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#998;font-style:italic">#ËÆæÁΩÆÁéØÂ¢ÉÂèòÈáè,‰ºöÂ≠òÂú®‰∫éÂÆπÂô®ÁéØÂ¢ÉÂèòÈáèÂΩì‰∏≠</span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#000;font-weight:bold">ENV</span> USERLOCAL /usr/local<span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#998;font-style:italic">#ÂÆâË£Övim</span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#000;font-weight:bold">RUN</span> yum install -y vim<span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#998;font-style:italic">#ËÆæÁΩÆÁôªÈôÜÁªàÁ´ØÊó∂ÁöÑ‰∫§‰∫íÁõÆÂΩï</span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#000;font-weight:bold">WORKDIR</span><span style="color:#d14"> ${USERLOCAL}</span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#998;font-style:italic">#ÂêØÂä®ÊâßË°åÁöÑÂëΩ‰ª§</span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#000;font-weight:bold">CMD</span> [<span style="color:#d14">&#34;/bin/bash&#34;</span>]<span style="color:#a61717;background-color:#e3d2d2">
</span></span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>CMDÂíåENTRYPOINT</li>
</ul>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-dockerfile" data-lang="dockerfile"><span style="display:flex;"><span><span style="color:#998;font-style:italic">#Âú®centos‰∏äÊû∂ÊûÑ</span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#000;font-weight:bold">FROM</span><span style="color:#d14"> centos</span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#998;font-style:italic">#ÂÆâË£Öcurl</span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#000;font-weight:bold">RUN</span> yum install -y curl<span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#998;font-style:italic">#ÊâßË°åÊó∂ÂèØ‰ª•Âú®ÂêéËøΩÂä†ÂèÇÊï∞Ôºå‰æãÂ¶Çdocker run [ÈïúÂÉèÂêç] -i Áõ∏ÂΩì‰∫é curl -s https://ip.cn</span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#000;font-weight:bold">ENTRYPOINT</span> [<span style="color:#d14">&#34;curl&#34;</span>,<span style="color:#d14">&#34;-s&#34;</span>,<span style="color:#d14">&#34;https://ip.cn&#34;</span>]<span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#998;font-style:italic">#ÊâßË°å‰∏çÂèØ‰ª•ËøΩÂä†ÂèÇÊï∞Áõ∏ÂΩì‰∫éË¶ÜÁõñÊìç‰Ωú</span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#998;font-style:italic">#CMD [&#34;curl&#34;,&#34;-s&#34;,&#34;https://ip.cn&#34;]</span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>ONBUILD</li>
</ul>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-dockerfile" data-lang="dockerfile"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">FROM</span><span style="color:#d14"> centos</span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#000;font-weight:bold">RUN</span> yum install -y curl<span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#998;font-style:italic">#Âú®Â≠êÁ±ªÊûÑÂª∫ÈïúÂÉèÊó∂‰ºöËß¶ÂèëÔºåÊ≥®ÊÑèONBUILD‰ªÖ‰ªÖÊó∂Ëß¶ÂèëÂô®ÔºåÂêéÈù¢ÈúÄË¶ÅË∑ü‰øùÁïôÂÖ≥ÈîÆÂ≠óËµ∑‰ΩúÁî®Ôºå‰∏çËÉΩÁõ¥Êé•‰ΩøÁî®ÂëΩ‰ª§</span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#000;font-weight:bold">ONBUILD</span> <span style="color:#000;font-weight:bold">RUN</span> <span style="color:#000;font-weight:bold">[</span><span style="color:#d14">&#34;echo&#34;</span>,<span style="color:#d14">&#34;onbuild tigger&#34;</span><span style="color:#000;font-weight:bold">]</span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>Ëá™ÂÆö‰πâtomcat</li>
</ul>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-dockerfile" data-lang="dockerfile"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">FROM</span><span style="color:#d14"> centos</span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#998;font-style:italic">#Êã∑Ë¥ùjdkÂéãÁº©ÂåÖÂπ∂Ëß£Âéã</span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#000;font-weight:bold">ADD</span> jdk-8u191-linux-x64.tar.gz /opt/<span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#000;font-weight:bold">RUN</span> mv /opt/jdk1.8.0_191 /opt/jdk8<span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#998;font-style:italic">#ÈÖçÁΩÆjavaÁéØÂ¢ÉÂèòÈáè</span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#000;font-weight:bold">ENV</span> <span style="color:#008080">PATH</span><span style="color:#000;font-weight:bold">=</span><span style="color:#008080">$PATH</span>:/opt/jdk8/bin<span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#000;font-weight:bold">ENV</span> <span style="color:#008080">JAVA_HOME</span><span style="color:#000;font-weight:bold">=</span>/opt/jdk8<span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#998;font-style:italic">#Êã∑Ë¥ùtomcatÂéãÁº©ÂåÖÂπ∂Ëß£Âéã</span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#000;font-weight:bold">ADD</span> apache-tomcat-8.5.35.tar.gz /opt/<span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#000;font-weight:bold">RUN</span> mv /opt/apache-tomcat-8.5.35 /opt/tomcat<span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#000;font-weight:bold">ENV</span> <span style="color:#008080">CATALINA_HOME</span><span style="color:#000;font-weight:bold">=</span>/opt/tomcat<span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#998;font-style:italic">#ËÆæÁΩÆÂ∑•‰ΩúÁõÆÂΩï</span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#000;font-weight:bold">WORKDIR</span><span style="color:#d14"> $CATALINA_HOME</span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#998;font-style:italic">#ËÆæÁΩÆË¶ÅÊö¥Èú≤ÁöÑÁ´ØÂè£</span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#000;font-weight:bold">EXPOSE</span><span style="color:#d14"> 8080</span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#998;font-style:italic">#ÂêØÂä®tomcatÂπ∂ÊâìÂç∞Êó•Âøó</span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#000;font-weight:bold">CMD</span> /opt/tomcat/bin/startup.sh start <span style="color:#000;font-weight:bold">&amp;&amp;</span> tail -f /opt/tomcat/logs/catalina.out<span style="color:#a61717;background-color:#e3d2d2">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h2 id="ÂçÅÈïúÂÉè‰ªìÂ∫ìÊê≠Âª∫">ÂçÅ„ÄÅÈïúÂÉè‰ªìÂ∫ìÊê≠Âª∫</h2>
<h3 id="ÂÆòÊñπ‰ªìÂ∫ìÊê≠Âª∫ÊñπÂºè">ÂÆòÊñπ‰ªìÂ∫ìÊê≠Âª∫ÊñπÂºè</h3>
<p><strong>‰ªìÂ∫ìÁ´Ø</strong></p>
<ul>
<li>ÂêØÂä®‰ªìÂ∫ì</li>
</ul>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker run -d -v /data/registry:/var/lib/registry -p 5000:5000 --restart<span style="color:#000;font-weight:bold">=</span>always registry
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>‰øÆÊîπ„Äê<code> /etc/docker/deamon.json</code>„ÄëÊñá‰ª∂</li>
</ul>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#000080">&#34;insecure-registries&#34;</span>:[<span style="color:#d14">&#34;‰ªìÂ∫ìÁ´ØIP:5000&#34;</span>]
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>ÈáçÂêØdockerÊúçÂä°</li>
</ul>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>systemctl restart docker
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>ÂÆ¢Êà∑Á´Ø</strong></p>
<ul>
<li>‰øÆÊîπ„Äê<code> /etc/docker/deamon.json</code>„ÄëÊñá‰ª∂</li>
</ul>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  &#34;insecure-registries&#34;:[&#34;‰ªìÂ∫ìÁ´ØIP:5000&#34;]
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>ÈáçÂêØdockerÊúçÂä°</li>
</ul>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>systemctl restart docker
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>Êü•Áúã‰ªìÂ∫ìÈïúÂÉè</li>
</ul>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#998;font-style:italic"># Êü•ÁúãÈïúÂÉè</span>
</span></span><span style="display:flex;"><span>curl -XGET http://registrIP:5000/v2/_catalog
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"># Êü•ÁúãÂÖ∑‰ΩìÈïúÂÉèÁâàÊú¨</span>
</span></span><span style="display:flex;"><span>curl -XGET http://registrIP:5000/v2/image_name/tags/list
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>ÊâìÂåÖ‰∏ä‰º†ÈïúÂÉè</li>
</ul>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#998;font-style:italic"># ÂëΩ‰ª§Ê†ºÂºèdocker tag SOURCE_IMAGE[:TAG] TARGET_IMAGE[/libraryName][:TAG]</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"># ÊåáÂÆö‰ªìÂ∫ìÈúÄË¶ÅÂä†libraryNameÔºåÂÆòÊñπÊê≠Âª∫ÊñπÂºè‰∏çËÉΩÊåáÂÆö‰ªìÂ∫ìÔºåharborÂèØ‰ª•ÂàõÂª∫‰ªìÂ∫ì</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"># ‰æãÂ¶ÇÔºödocker tag hello-world:latest 192.169.1.149:5000/hello-world:v1.0</span>
</span></span><span style="display:flex;"><span>docker tag SOURCE_IMAGE:<span style="color:#000;font-weight:bold">[</span>TAG<span style="color:#000;font-weight:bold">]</span> registrIP:5000<span style="color:#000;font-weight:bold">[</span>/userName<span style="color:#000;font-weight:bold">]</span>/TARGET_IMAGE:<span style="color:#000;font-weight:bold">[</span>TAG<span style="color:#000;font-weight:bold">]</span> 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"># ‰∏ä‰º†ÈïúÂÉèÂà∞‰ªìÂ∫ì</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"># ÁßÅÊúâ‰ªìÂ∫ìÁôªÈôÜÊâçËÉΩÊé®ÈÄÅ</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"># docker login ip/hostname</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"># ‰æãÂ¶ÇÔºödocker push 192.168.1.149:5000/hello-world:v1.0</span>
</span></span><span style="display:flex;"><span>docker push registrIP:5000<span style="color:#000;font-weight:bold">[</span>/userName<span style="color:#000;font-weight:bold">]</span>/TARGET_IMAGE:<span style="color:#000;font-weight:bold">[</span>TAG<span style="color:#000;font-weight:bold">]</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="harbor‰ªìÂ∫ìÊê≠Âª∫">Harbor‰ªìÂ∫ìÊê≠Âª∫</h3>
<p>HarborÊûÑÂª∫ÈúÄË¶ÅÂÖàÂÆâË£Öpython„ÄÅcompose„ÄÇ<a href="https://github.com/goharbor/harbor">harborGithubÂú∞ÂùÄ</a></p>
<ul>
<li>ÊûÑÂª∫SSLËØÅ‰π¶</li>
</ul>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#998;font-style:italic"># ÊûÑÂª∫ËØÅ‰π¶</span>
</span></span><span style="display:flex;"><span>openssl genrsa -des3 -out server.key <span style="color:#099">2048</span>
</span></span><span style="display:flex;"><span>openssl req -new -key server.key -out server.csr
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"># ËÑ±ÂØÜÔºåËØÅ‰π¶ÈÄÄÂØÜÈí•</span>
</span></span><span style="display:flex;"><span>cp server.key server.key.org
</span></span><span style="display:flex;"><span>openssl rsa -in server.key.org -out server.key
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"># ËØÅ‰π¶ÊúâÊïàÊúü</span>
</span></span><span style="display:flex;"><span>openssl x509 -req -days <span style="color:#099">365</span> -in server.csr -signkey server.key -out  server.csr
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"># Â∞ÜËØÅ‰π¶ÁßªÁΩÆÊåáÂÆöÁõÆÂΩï</span>
</span></span><span style="display:flex;"><span>mkdir /data/cert
</span></span><span style="display:flex;"><span>chown -R <span style="color:#099">777</span> /data/cert
</span></span><span style="display:flex;"><span>cp server.*  /data/cert
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>‰øÆÊîπ<code>harbor.yml</code></li>
</ul>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#998;font-style:italic"># ‰øÆÊîπhostnameÈ°π</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#000080">hostname</span>:<span style="color:#bbb"> </span>[hostname]<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#998;font-style:italic"># Â±èËîΩHTTPÂçèËÆÆ</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#998;font-style:italic">#http:</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#998;font-style:italic">#  port: 80</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#998;font-style:italic"># ÂºÄÊîæhttpsÂçèËÆÆ</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#000080">https</span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#000080">port</span>:<span style="color:#bbb"> </span><span style="color:#099">443</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#000080">certificate</span>:<span style="color:#bbb"> </span>/data/cert/server.csr<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#000080">private_key</span>:<span style="color:#bbb"> </span>/data/cert/server.key<span style="color:#bbb">
</span></span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>ÊâßË°åÂÆâË£ÖËÑöÊú¨</li>
</ul>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>./install.sh
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>ËÆøÈóÆharbor<code>https://ip/harbor/projects</code>ÔºåÈªòËÆ§Ë¥¶Êà∑ÔºöadminÔºåÂØÜÁ†ÅÔºöHarbor12345</li>
</ul>
<p>ÂÆ¢Êà∑Á´ØÈÖçÁΩÆÔºàÈùûËøõË°åÂÖ¨ÁΩëËÆ§ËØÅËøáÁöÑSSLËØÅ‰π¶Ôºâ</p>
<ul>
<li>‰øÆÊîπ„Äê<code> /etc/docker/deamon.json</code>„ÄëÊñá‰ª∂</li>
</ul>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{ 
</span></span><span style="display:flex;"><span> <span style="color:#000080">&#34;insecure-registries&#34;</span>:[<span style="color:#d14">&#34;registryIP&#34;</span>]
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>ÈáçÂêØdockerÊúçÂä°</li>
</ul>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>systemctl restart docker
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>ÊâìÂåÖÁ§∫‰æã</p>
<p><code>docker tag hello-world:latest www.kun.com/library/hello-world:v1.0</code></p>
<p>Êé®ÈÄÅÁ§∫‰æã</p>
<p>ÂÖàÁôªÂΩïÔºö<code>docker login www.kun.com</code></p>
<p><code>docker push www.kun.com/library/hello-world:v1.0</code></p>
</blockquote>
<h2 id="ÂçÅ‰∏ÄÁΩëÁªúËÆæÁΩÆ">ÂçÅ‰∏Ä„ÄÅÁΩëÁªúËÆæÁΩÆ</h2>
<h3 id="ÁΩëÁªúÈÄöËÆØ">ÁΩëÁªúÈÄöËÆØ</h3>
<img src="/img/docker/Docker-net.png" alt="Docker-net" style="zoom:67%;" />
<ul>
<li>
<p>ÂÆπÂô®‰∏éÂÆπÂô®‰πãÈó¥ÈÄöËÆØ‰ΩøÁî®dockerÁöÑÁΩëÊ°•ÔºàÁ±ª‰ºº‰∫§Êç¢Êú∫‰ΩúÁî®ÔºâËøõË°åÁõ∏‰∫í‰πãÈó¥ÈìúÈ°ª</p>
</li>
<li>
<p>ÂÆπÂô®ËÆøÈóÆÂ§ñÈÉ®ÁΩëÁªú‰ΩøÁî®SNATËΩ¨Êç¢</p>
</li>
<li>
<p>Â§ñÈÉ®ÁΩëÁªúËÆøÈóÆÂÆπÂô®‰ΩøÁî®DNATËΩ¨Êç¢</p>
</li>
</ul>
<h3 id="ÁΩëÁªúÊ®°Âºè‰øÆÊîπ">ÁΩëÁªúÊ®°Âºè‰øÆÊîπ</h3>
<p><strong>ËøõÁ®ãÁΩëÁªú‰øÆÊîπ„Äê‰∏çÂ∏∏Áî®„Äë</strong></p>
<ul>
<li>
<p>-bÔºå&ndash;bridge=‚Äù‚ÄúÔºöÊåáÂÆöDocker‰ΩøÁî®ÁöÑÁΩëÊ°•ËÆæÂ§áÔºåÈªòËÆ§ÊÉÖÂÜµ‰∏ãDocker‰ºöËá™Âä®ÂàõÂª∫Âíå‰ΩøÁî®docker0ÁΩëÊ°•ËÆæÂ§áÔºåÈÄöËøáÊ≠§ÂèÇÊï∞ÂèØ‰ª•ËÆæÁΩÆÂ∑≤ÁªèÂ≠òÂú®ÁöÑËÆæÂ§á</p>
</li>
<li>
<p>&ndash;bipÔºöÊåáÂÆöDocker0ÁöÑIPÂíåÊé©Á†ÅÔºå‰ΩøÁî®Ê†áÂáÜÁöÑCIDRÊ†ºÂºèÂ¶Ç10.10.10.10/24</p>
</li>
<li>
<p>&ndash;dnsÔºöÈÖçÁΩÆÂÆπÂô®ÁöÑDNSÔºåÂú®ÂêØÂä®DockerËøõÁ®ãÊó∂Ê∑ªÂä†ÔºåÊâÄÊúâÂÆπÂô®ÂÖ®ÈÉ®ÁîüÊïà</p>
</li>
</ul>
<p><strong>ÂÆπÂô®ÁΩëÁªú‰øÆÊîπ</strong></p>
<ul>
<li>&ndash;dnsÔºöÈÖçÁΩÆÂÆπÂô®ÁöÑDNS</li>
<li>&ndash;netÔºöÊåáÂÆöÂÆπÂô®ÁöÑÁΩëÁªúÈÄöËÆØÊñπÂºè
<ul>
<li>bridgeÔºöDockerÈªòËÆ§ÊñπÂºèÔºåÁΩëÊ°•Ê®°Âºè</li>
<li>noneÔºöÂÆπÂô®Ê≤°ÊúâÁΩëÁªúÊ†à</li>
<li>containerÔºö‰ΩøÁî®ÂÖ∂ÂÆÉÂÆπÂô®ÁöÑÁΩëÁªúÊ†àÔºåÂÆπÂô®‰ºöÂä†ÂÖ•ÂÖ∂ÂÆÉÂÆπÂô®ÁöÑnetwork namespace</li>
<li>hostÔºöË°®Á§∫ÂÆπÂô®‰ΩøÁî®HostÁöÑÁΩëÁªúÔºåÊ≤°ÊúâËá™Â∑±Áã¨Á´ãÁöÑÁΩëÁªúÊ†àÔºåÂÆπÂô®ÂèØ‰ª•ÂÆåÂÖ®ËÆøÈóÆHostÁöÑÁΩëÁªúÔºå‰∏çÂÆâÂÖ®</li>
</ul>
</li>
</ul>
<p><strong>Á´ØÂè£Êö¥Èú≤ÊñπÂºè</strong></p>
<p>p/P ÈÄâÈ°πÁöÑ‰ΩøÁî®Ê†ºÂºè</p>
<ul>
<li>-p :<ContainerPort>                                     Â∞ÜÂà∂ÂÆöÁöÑÂÆπÂô®Á´ØÂè£Êò†Â∞ÑËá≥‰∏ªÊú∫ÊâÄÊúâÂú∞ÂùÄÁöÑ‰∏Ä‰∏™Âä®ÊÄÅÁ´ØÂè£</li>
<li>-p <HostPort>:<ContainerPort>              Êò†Â∞ÑËá≥ÊåáÂÆöÁöÑ‰∏ªÊú∫Á´ØÂè£</li>
<li>-p <IP>::<ContainerPort>                           Êò†Â∞ÑËá≥ÊåáÂÆöÁöÑ‰∏ªÊú∫ÁöÑIPÁöÑÂä®ÊÄÅÁ´ØÂè£</li>
<li>-p <IP>:<HostPort>:<ContainerPort>    Êò†Â∞ÑËá≥ÊåáÂÆöÁöÑ‰∏ªÊú∫IPÁöÑ‰∏ªÊú∫Á´ØÂè£</li>
<li>-P(Â§ßÂÜô)                                                                Êö¥Èú≤ÊâÄÈúÄË¶ÅÁöÑÊâÄÊúâÁ´ØÂè£ÔºàexposeÁ´ØÂè£ÔºâÂà∞ÈöèÊú∫Á´ØÂè£</li>
</ul>
<blockquote>
<p>docker port [ontainerName]   ÂèØ‰ª•Êü•ÁúãÂÆπÂô®ÂΩìÂâçÁöÑÊò†Â∞ÑÂÖ≥Á≥ª</p>
</blockquote>
<h3 id="ÂÆπÂô®Èó¥ÁΩëÁªúÈöîÁ¶ª">ÂÆπÂô®Èó¥ÁΩëÁªúÈöîÁ¶ª</h3>
<p>Á¨¨‰∏ÄÊ≠•ÔºöÂàõÂª∫Áã¨Á´ãnetwork namespace</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker network create -d bridge <span style="color:#d14">\
</span></span></span><span style="display:flex;"><span><span style="color:#d14"></span><span style="color:#000;font-weight:bold">[</span>--subnet <span style="color:#d14">&#34;172.26.10.0/16&#34;</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#d14">\
</span></span></span><span style="display:flex;"><span><span style="color:#d14"></span><span style="color:#000;font-weight:bold">[</span>--gateway <span style="color:#d14">&#34;172.26.10.1&#34;</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#d14">\
</span></span></span><span style="display:flex;"><span><span style="color:#d14"></span><span style="color:#000;font-weight:bold">[</span>netName<span style="color:#000;font-weight:bold">]</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Á¨¨‰∫åÊ≠•ÔºöËøêË°åÈïúÂÉèÊòØÊåáÂÆönetwork</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker run -d --network<span style="color:#000;font-weight:bold">=[</span>netName<span style="color:#000;font-weight:bold">]</span> <span style="color:#000;font-weight:bold">[</span>imageName<span style="color:#000;font-weight:bold">]</span>
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>Êü•ÁúãnamespaceÔºö<code> docker network ls</code></p>
</blockquote>
<h2 id="ÂçÅ‰∫åÂÜÖÂ≠òcpuÈôêÂà∂">ÂçÅ‰∫å„ÄÅÂÜÖÂ≠ò&amp;CPUÈôêÂà∂</h2>
<p>‚Äã	ÈªòËÆ§ÊÉÖÂÜµ‰∏ãDockerÂàõÂª∫ÁöÑÂÆπÂô®‰ºöÂ∞ΩÂèØËÉΩÊòØÁî®ÂÆåÊìç‰ΩúÁ≥ªÁªüÂÜÖÂ≠òÔºåÂΩìÊúçÂä°ÂºÇÂ∏∏Êó∂ÂèØËÉΩ‰ºöÂØºËá¥Â¥©Ê∫ÉÔºåÊâÄ‰ª•Áîü‰∫ßÁéØÂ¢É‰∏ãCPUÂíåÂÜÖÂ≠òÂøÖÈ°ªÂä†‰ª•ÈôêÂà∂„ÄÇDockersÂ∫ïÂ±Ç‰ΩøÁî®CGroupËøõË°åËµÑÊ∫êÈôêÂà∂„ÄÇ</p>
<p>LinuxÂÜÖÊ†∏ÊúâOOMEÊú∫Âà∂„ÄêOut Of Memory Exception„Äë</p>
<p>‚Äã	‰∏ÄÊó¶ÂèëÁîüOOMEÔºå‰ªª‰ΩïËøõÁ®ãÈÉΩÊúâÂèØËÉΩË¢´ÊùÄÊ≠ªÔºåÂåÖÊã¨<code>docker daemon</code>Âú®ÂÜÖÔºå‰∏∫Ê≠§dockerË∞ÉÊï¥‰∫Ü<code>docker daemon</code>ÁöÑOOM‰ºòÂÖàÁ∫ßÔºå‰ª•ÂÖçË¢´ÂÜÖÊ†∏ÂÖ≥Èó≠„ÄÇ</p>
<h3 id="ÂÜÖÂ≠òÁõ∏ÂÖ≥ËÆæÁΩÆ">ÂÜÖÂ≠òÁõ∏ÂÖ≥ËÆæÁΩÆ</h3>
<ul>
<li>
<p>-mÔºå&ndash;memory             ÂÆπÂô®ËÉΩ‰ΩøÁî®ÁöÑÊúÄÂ§ßÂÜÖÂ≠òÂ§ßÂ∞èÔºåÂçï‰ΩçM</p>
</li>
<li>
<p>&ndash;memory-swap           ÂÆπÂô®ÂèØ‰ΩøÁî®ÁöÑswapÂ§ßÂ∞è</p>
<ul>
<li>&ndash;memory‰∏∫Ê≠£Êï∞MÔºå&ndash;memory-swap‰∏∫Ê≠£Êï∞SÔºåswapÁ©∫Èó¥‰∏∫ÔºàS-MÔºâ</li>
<li>&ndash;memory‰∏∫Ê≠£Êï∞MÔºå&ndash;memory-swap‰∏∫0ÊàñËÄÖunsetÔºåÂÆπÂô®ÂèØÁî®swap‰∏∫2*M</li>
<li>&ndash;memory‰∏∫Ê≠£Êï∞MÔºå&ndash;memory-swap‰∏∫-1Ôºå‰ΩøÁî®‰∏ªÊú∫ÁöÑswapÈôêÂà∂</li>
</ul>
<blockquote>
<p>ÂÆπÂô®ÂÜÖ‰ΩøÁî®freeÁúãÂà∞ÁöÑswapÁ©∫Èó¥‰∏çÂÖ∑ÊúâÁúüÂÆûÂê´‰πâ</p>
</blockquote>
</li>
<li>
<p>&ndash;memory-swappiness         swapÂá∫ÂÜÖÂ≠òÁöÑÊØî‰æã„ÄÇÂèñÂÄº0-100Ôºå0‰ª£Ë°®‰∏ç‰ΩøÁî®swap</p>
</li>
<li>
<p>&ndash;memory-resercation          ÂÜÖÂ≠òËΩØÈôêÂà∂</p>
</li>
<li>
<p>&ndash;oom-kill-disable                   ÂèëÁîüOOMEÊó∂ÊòØÂê¶ÊùÄÊ≠ªÂÆπÂô®ÔºåÂè™ÊúâÈÖçÁΩÆ-mÊó∂‰ΩøÁî®ÊâçÂÆâÂÖ®ÔºåÂê¶Âàô‰ºöÈÄ†ÊàêÂÜÖÂ≠òËÄóÂ∞Ω</p>
</li>
</ul>
<h3 id="cpuÁõ∏ÂÖ≥ËÆæÁΩÆ">CPUÁõ∏ÂÖ≥ËÆæÁΩÆ</h3>
<p>‚Äã	DockerÊèê‰æõÁöÑCPUËµÑÊ∫êÈôêÂà∂ÈÄâÈ°πÂèØ‰ª•Âú®Â§öÊ†∏Á≥ªÁªü‰∏äÈôêÂà∂ÂÆπÂô®ËÉΩÂà©Áî®Âì™‰∫õvCPUÔºåËÄåÂØπÂÆπÂô®ÊúÄÂ§öËÉΩ‰ΩøÁî®ÁöÑCPUÊó∂Èó¥
Êúâ‰∏§ÁßçÈôêÂà∂ÊñπÂºèÔºö‚ë†ËÆæÁΩÆÂêÑ‰∏™ÂÆπÂô®ËÉΩ‰ΩøÁî®ÁöÑCPUÊó∂Èó¥Áõ∏ÂØπÊØî‰æã„ÄÇ‚ë°‰ª•ÁªùÂØπÁöÑÊñπÂºèËÆæÁΩÆÂÆπÂô®Âú®ÊØè‰∏™Ë∞ÉÂ∫¶Âë®ÊúüÂÜÖÊúÄÂ§öËÉΩ‰ΩøÁî®ÁöÑÊó∂Èó¥</p>
<ul>
<li>&ndash;cpuset-cpus=&quot;&quot;               ‰ΩøÁî®ÁöÑCPUÈõÜÔºå‰æãÂ¶ÇÔºö&ldquo;0Ôºå1Ôºå1-3&quot;ÂàÜÂà´Ë°®Á§∫‰ΩøÁî®Á¨¨‰∏ÄÂùó„ÄÅÁ¨¨‰∫åÂíåÁ¨¨‰∏Ä„ÄÅÁ¨¨‰∫å„ÄÅÁ¨¨‰∏âÂùóCPU</li>
<li>-cÔºå&ndash;cpu-shares=1024    CPU‰ΩøÁî®ÊùÉÈáçÔºåÈªòËÆ§1024</li>
<li>&ndash;cpu-period=0                  ‰∏Ä‰∏™Ë∞ÉÂ∫¶Âë®ÊúüÊó∂Èó¥Âçï‰ΩçÂæÆÁßíÔºà1000~1000000ÔºâÔºåÂíå<code>cpu-quota</code>ËÅîÁî®</li>
<li>&ndash;cpu-quota=0                    ‰∏Ä‰∏™Ë∞ÉÂ∫¶Âë®Êúü‰ΩøÁî®ÁöÑCPUÊó∂Èó¥Âçï‰ΩçÂæÆÂ¶ôÔºåÂíå<code>cpu-period</code>ËÅîÁî®</li>
</ul>
<blockquote>
<p>docker run -it &ndash;cpu-period=10000 &ndash;cpu-quota=20000 centos /bin/bash    #‰ª£Ë°®‰ΩøÁî®‰∏§ÂùóCPU</p>
</blockquote>
<h2 id="ÂçÅ‰∏âdockerÂÆâË£Ömysqlredis">ÂçÅ‰∏â„ÄÅDockerÂÆâË£ÖMySQL„ÄÅRedis</h2>
<ul>
<li>ÂÆâË£ÖMySQL</li>
</ul>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-dockerfile" data-lang="dockerfile"><span style="display:flex;"><span><span style="color:#998;font-style:italic">#ÊãâÂèñMySQL</span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span>docker pull mysql:5.7<span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#998;font-style:italic">#Ê≥®ÊÑèÂ§ñÈÉ®ËÆøÈóÆÈúÄË¶Å‰øÆÊîπrootÊùÉÈôêÔºådocker mysqlÈÖçÁΩÆÊñá‰ª∂ÂÜç/etc/mysqlÁõÆÂΩï‰∏ãÔºåÊ≥®ÊÑèÊü•ÁúãÂÜÖÂÆπ</span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span>docker run -p3306:3306 <span style="color:#d14">\
</span></span></span><span style="display:flex;"><span><span style="color:#d14"></span>-v /root/mysql/log/mysqld.log:/logs <span style="color:#d14">\
</span></span></span><span style="display:flex;"><span><span style="color:#d14"></span>-v /root/mysql/data:/var/lib/mysql <span style="color:#d14">\
</span></span></span><span style="display:flex;"><span><span style="color:#d14"></span>-v /root/mysql/conf/my.cnf:/etc/mysql/my.conf <span style="color:#d14">\
</span></span></span><span style="display:flex;"><span><span style="color:#d14"></span>-e <span style="color:#008080">MYSQL_ROOT_PASSWORD</span><span style="color:#000;font-weight:bold">=</span><span style="color:#099">123456</span>  <span style="color:#d14">\
</span></span></span><span style="display:flex;"><span><span style="color:#d14"></span>-d mysql:5.7<span style="color:#a61717;background-color:#e3d2d2">
</span></span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>ÂÆâË£ÖRedis</li>
</ul>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#998;font-style:italic">#ÊãâÂèñredis</span>
</span></span><span style="display:flex;"><span>docker pull redis
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#ÂêØÂä®redisÔºåÊ≥®ÊÑèredis.conf‰∏≠ÁöÑdirË¶ÅÊúâÊùÉÈôê,bindÊ≥®ÈáäÊéâÔºåprotected-modeÊîπ‰∏∫no</span>
</span></span><span style="display:flex;"><span>docker run -p6379:6379 <span style="color:#d14">\
</span></span></span><span style="display:flex;"><span><span style="color:#d14"></span>-v /root/redis/conf/redis.conf:/usr/local/etc/redis.conf <span style="color:#d14">\
</span></span></span><span style="display:flex;"><span><span style="color:#d14"></span>-v /root/redis/data:/data <span style="color:#d14">\
</span></span></span><span style="display:flex;"><span><span style="color:#d14"></span>--privileged<span style="color:#000;font-weight:bold">=</span><span style="color:#0086b3">true</span> 
</span></span><span style="display:flex;"><span>-it redis redis-server /usr/local/etc/redis.conf
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="ÈôÑÂêçËØçËß£ÈáäÂÆπÂô®Áä∂ÊÄÅËΩ¨Êç¢Âõæ">ÈôÑÂêçËØçËß£Èáä&amp;ÂÆπÂô®Áä∂ÊÄÅËΩ¨Êç¢Âõæ</h2>
<h3 id="span-idpassiasspasssassspan"><span id="PASS">IASS&amp;PASS&amp;SASS</span></h3>
<p><img src="/img/docker/pass-iass-sass.png" alt="‰º†ÁªüÈÉ®ÁΩ≤"></p>
<h3 id="lxc">LXC</h3>
<p>‚Äã	LinuxÁöÑcontainerÊäÄÊúØÂú®ÂÜÖÊ†∏Â±ÇÈù¢Áî±‰∏§‰∏™Áã¨Á´ãÁöÑÊú∫Âà∂‰øùËØÅÔºå‰∏Ä‰∏™‰øùËØÅËµÑÊ∫êÁöÑÈöîÁ¶ªÊÄßÔºåÂêç‰∏∫namespaceÔºå‰∏Ä‰∏™ËøõË°åËµÑÊ∫êÁöÑÊéßÂà∂ÔºåÂêç‰∏∫cgroup„ÄÇ</p>
<p><strong>namespace</strong></p>
<p>‚Äã	namespaceÊòØÂØπÂÖ®Â±ÄÁ≥ªÁªüËµÑÊ∫êÁöÑ‰∏ÄÁßçÂ∞ÅË£ÖÈöîÁ¶ªÔºå‰ΩøÂæóÂ§Ñ‰∫é‰∏çÂêånamespaceÁöÑËøõÁ®ãÊã•ÊúâÁã¨Á´ãÁöÑÂÖ®Â±ÄÁ≥ªÁªüËµÑÊ∫êÔºåÊîπÂèò‰∏Ä‰∏™namespace‰∏≠ÁöÑÁ≥ªÁªüËµÑÊ∫êÂè™‰ºöÂΩ±ÂìçÂΩìÂâçnamespaceÈáåÁöÑËøõÁ®ãÔºåÂØπÂÖ∂‰ªñnamespace‰∏≠ÁöÑËøõÁ®ãÊ≤°ÊúâÂΩ±Âìç„ÄÇ</p>
<p>‚Äã	LinuxÁé∞ÊúâÁöÑnamespaceÊúâ6ÁßçÔºö uts[‰∏ªÊú∫Âêç], pid, ipc[ËøõÁ®ãÈÄö‰ø°], mnt[ÊåÇËΩΩÁÇπ], netÂíåuser</p>
<p><strong>cgroup</strong></p>
<p>‚Äã	cgroupÊòØLinux‰∏ãÁöÑ‰∏ÄÁßçÂ∞ÜËøõÁ®ãÊåâÁªÑËøõË°åÁÆ°ÁêÜÁöÑÊú∫Âà∂ÔºåÂú®Áî®Êà∑Â±ÇÁúãÊù•ÔºåcgroupÊäÄÊúØÂ∞±ÊòØÊääÁ≥ªÁªü‰∏≠ÁöÑÊâÄÊúâËøõÁ®ãÁªÑÁªáÊàê‰∏ÄÈ¢ó‰∏ÄÈ¢óÁã¨Á´ãÁöÑÊ†ëÔºåÊØèÊ£µÊ†ëÈÉΩÂåÖÂê´Á≥ªÁªüÁöÑÊâÄÊúâËøõÁ®ãÔºåÊ†ëÁöÑÊØè‰∏™ËäÇÁÇπÊòØ‰∏Ä‰∏™ËøõÁ®ãÁªÑÔºåËÄåÊØèÈ¢óÊ†ëÂèàÂíå‰∏Ä‰∏™ÊàñËÄÖÂ§ö‰∏™subsystemÂÖ≥ËÅîÔºåÊ†ëÁöÑ‰ΩúÁî®ÊòØÂ∞ÜËøõÁ®ãÂàÜÁªÑÔºåËÄåsubsystemÁöÑ‰ΩúÁî®Â∞±ÊòØÂØπËøô‰∫õÁªÑËøõË°åÊìç‰Ωú„ÄÇ</p>
<p><strong>subsystem</strong></p>
<p>‚Äã	‰∏Ä‰∏™subsystemÂ∞±ÊòØ‰∏Ä‰∏™ÂÜÖÊ†∏Ê®°ÂùóÔºå‰ªñË¢´ÂÖ≥ËÅîÂà∞‰∏ÄÈ¢ócgroupÊ†ë‰πãÂêéÔºåÂ∞±‰ºöÂú®Ê†ëÁöÑÊØè‰∏™ËäÇÁÇπÔºàËøõÁ®ãÁªÑÔºâ‰∏äÂÅöÂÖ∑‰ΩìÁöÑÊìç‰Ωú„ÄÇsubsystemÁªèÂ∏∏Ë¢´Áß∞‰Ωú&quot;resource controller&rdquo;ÔºåÂõ†‰∏∫ÂÆÉ‰∏ªË¶ÅË¢´Áî®Êù•Ë∞ÉÂ∫¶ÊàñËÄÖÈôêÂà∂ÊØè‰∏™ËøõÁ®ãÁªÑÁöÑËµÑÊ∫ê„ÄêÊØîÂ¶ÇÈôêÂà∂CPUÁöÑ‰ΩøÁî®Êó∂Èó¥ÔºåÈôêÂà∂‰ΩøÁî®ÁöÑÂÜÖÂ≠òÔºåÁªüËÆ°CPUÁöÑ‰ΩøÁî®ÊÉÖÂÜµÔºåÂÜªÁªìÂíåÊÅ¢Â§ç‰∏ÄÁªÑËøõÁ®ãÁ≠â„Äë</p>
<p><strong>hierarchy</strong></p>
<p>‚Äã	‰∏Ä‰∏™hierarchyÂèØ‰ª•ÁêÜËß£‰∏∫‰∏ÄÊ£µcgroupÊ†ëÔºåÊ†ëÁöÑÊØè‰∏™ËäÇÁÇπÂ∞±ÊòØ‰∏Ä‰∏™ËøõÁ®ãÁªÑÔºåÊØèÊ£µÊ†ëÈÉΩ‰ºö‰∏éÈõ∂Âà∞Â§ö‰∏™subsystemÂÖ≥ËÅî„ÄÇÂú®‰∏ÄÈ¢óÊ†ëÈáåÈù¢Ôºå‰ºöÂåÖÂê´LinuxÁ≥ªÁªü‰∏≠ÁöÑÊâÄÊúâËøõÁ®ãÔºå‰ΩÜÊØè‰∏™ËøõÁ®ãÂè™ËÉΩÂ±û‰∫é‰∏Ä‰∏™ËäÇÁÇπÔºàËøõÁ®ãÁªÑÔºâ„ÄÇÁ≥ªÁªü‰∏≠ÂèØ‰ª•ÊúâÂæàÂ§öÈ¢ócgroupÊ†ëÔºåÊØèÊ£µÊ†ëÈÉΩÂíå‰∏çÂêåÁöÑsubsystemÂÖ≥ËÅîÔºå‰∏Ä‰∏™ËøõÁ®ãÂèØ‰ª•Â±û‰∫éÂ§öÈ¢óÊ†ëÔºåÂç≥‰∏Ä‰∏™ËøõÁ®ãÂèØ‰ª•Â±û‰∫éÂ§ö‰∏™ËøõÁ®ãÁªÑÔºåÂè™ÊòØËøô‰∫õËøõÁ®ãÁªÑÂíå‰∏çÂêåÁöÑsubsystemÂÖ≥ËÅî„ÄÇ</p>
<p>ÂÆπÂô®Áä∂ÊÄÅËΩ¨Êç¢Âõæ</p>
<p><img src="/img/docker/container-status-convert.png" alt="container-status-convert"></p>

    </div>

    

    <div class="container-comment-giscus">
        <script src="https://giscus.app/client.js"
        data-repo="loveminimal/comment"
        data-repo-id="R_kgDOJNJQ8g"
        data-category="General"
        data-category-id="DIC_kwDOJNJQ8s4CYl0m"
        data-mapping="title"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="bottom"
        data-theme="noborder_light"
        data-lang="zh-CN"
        data-loading="lazy"
        crossorigin="anonymous"
        async>
        </script>
</div>
</div>

        </div>
        <div id="footer"><div class="container-footer">
    

    <div class="beian">
        
        <a target="_blank" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=41092802000242">
            

        </a>

        
        <a href="//beian.miit.gov.cn" target="_blank">
            
            <span class="some">icp...<span>
            
        </a>
    </div>

    
    <div class="info">
        
        <a href="https://github.com/loveminimal/hugo-theme-virgo">üïäÔ∏è</a> 2016 - <span id="info-date"></span>
    </div>

</div></div>
        <div class="cool-after" style="
            
                background-color: rgba(255, 255, 255, 0.49); 
                backdrop-filter: saturate(100%) blur(6px);
            
            "></div>
    </body>
</html>
