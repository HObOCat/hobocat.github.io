<!DOCTYPE html>
<html lang="zh-CN"><head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <meta name="description" content="mybatis‰ΩøÁî®ÊåáÂçó - https://hobocat.github.io/post/mybatis/2018-09-27-mybatis/">
    <meta name="author" content="Jack - https://hobocat.github.io/">
    
    <meta name="msvalidate.01" content="B46311949B856F2A7015F366FB3CE878" />
    <title>mybatis‰ΩøÁî®ÊåáÂçó</title>
    
    <base target="_blank">
    <link rel="icon" type="image/png" href="/favicon.ico">
    
    
    
    
    
    <link rel="stylesheet" href="https://hobocat.github.io/style.min.94e7ed14b48117025ebd1148adc11f7268f1ebf50d97297ac663edf1aa6f52dc.css">
    
    <script>const DARK =  false ;</script>
    
    <script type="text/javascript" src="/main.js" defer></script>
    
</head>
<body class="active-animate cool">
        <div class="container-floating-box">
	<div class="box box1"></div>
	<div class="box box11"></div>
	<div class="box box12"></div>
	<div class="box box2"></div>
	<div class="box box3"></div>
	<div class="box box4"></div>
	<div class="box box5"></div>
	<div class="box box6"></div>
	<div class="box box7"></div>
	<div class="box box8"></div>
	<div class="box box9"></div>
</div>
        <div class="cool-before" style="background: url('/imgs/bg/wallhaven-6qr21l.jpg') left top/100% no-repeat fixed;"></div>
        <div id="header" class=""><div class="container-header">

    
    
    
    <div class="right">
        
        <h1 class="title">mybatis‰ΩøÁî®ÊåáÂçó</h1>
    
        
        
            <div id="toc">üìú</div>
        
    </div>
</div>
</div>
        <div id="content">










<div class="container-main container-page ">

    

    
    
    
    <div class="rel">
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
    </div>
    
    

    <div class="desc">
        
        <span>
            
            <svg t="1656736000388" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
                p-id="7409" width="12" height="12">
                <path
                    d="M524.885333 338.986667L200.362667 663.466667c-17.28 15.274667-27.989333 36.693333-29.696 56.234666v133.76l130.730666 0.085334c22.784-1.621333 43.989333-12.245333 61.013334-31.701334l322.688-322.645333-160.213334-160.213333z m60.373334-60.330667l160.170666 160.213333 102.144-102.144a19.712 19.712 0 0 0 0-27.861333L715.093333 176.426667a19.456 19.456 0 0 0-27.605333 0L585.258667 278.613333zM701.312 85.333333c27.946667 0 54.741333 11.136 74.282667 30.848l132.309333 132.309334a105.045333 105.045333 0 0 1 0 148.565333L424.874667 879.957333c-29.824 34.346667-72.106667 55.466667-120.448 58.794667H85.333333v-42.666667l0.128-179.84c3.626667-44.970667 24.576-86.826667 56.448-114.944l485.12-485.034666A104.789333 104.789333 0 0 1 701.269333 85.333333z"
                    p-id="7410" fill="#adb5bd"></path>
            </svg>
            2018-09-27&nbsp;&nbsp;&nbsp;
            <svg t="1656737270708" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
                p-id="23838" width="11" height="11">
                <path
                    d="M824.264 95.36c0-23.859 25.043-44.16 48.902-44.16s49.714 20.301 49.714 44.16v190.08c0 23.859-19.054 52.868-42.913 52.868h-190.08c-23.859 0-46.696-25.96-46.696-49.819s22.55-46.249 46.409-46.249h82.025C702.344 175.534 610.22 155.853 512 155.853c-206.775 0-360.398 149.372-360.398 356.147 0 206.775 153.623 358.23 360.398 358.23 206.775 0 357.467-151.455 357.467-358.23 0-23.859 23.634-50.706 53.413-50.706 29.78 0 49.92 26.847 49.92 50.706 0 254.493-206.307 460.8-460.8 460.8-254.493 0-460.8-206.307-460.8-460.8C51.2 257.507 257.507 51.2 512 51.2c122.4 0 226.684 33.296 312.264 117.369 0.358 0.351 0.358-24.052 0-73.209z"
                    p-id="23839" fill="#adb5bd"></path>
            </svg>
            2024-05-15&nbsp;&nbsp;&nbsp;
        </span>
        <span>
            
            <svg t="1656737548689" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
                p-id="33866" width="12" height="12">
                <path
                    d="M832.038608 64.662657H192.030028C121.255125 64.662657 63.940169 121.98845 63.940169 192.694717v446.793671C63.940169 710.205493 121.255125 767.643272 192.030028 767.643272h133.353183a63.940169 63.940169 0 0 1 55.219742 31.576328l76.099638 129.83828c12.358154 21.093031 33.790754 31.626903 55.216129 31.626903s42.832688-10.544709 55.198067-31.619678l76.222461-129.870792a63.940169 63.940169 0 0 1 55.212517-31.551041h133.54103c70.576219 0 127.732228-57.289669 127.732227-127.800865V192.391272C959.825022 121.85479 902.643727 64.662657 832.038608 64.662657zM895.884854 639.842407A63.85347 63.85347 0 0 1 832.092795 703.703103h-133.54103a127.753903 127.753903 0 0 0-110.349172 63.09847l-76.222461 129.856342a0.274545 0.274545 0 0 1 0-0.050574h-0.032512s-0.021675 0.061411-0.032512 0.061412l-76.1466-129.85273A127.804477 127.804477 0 0 0 325.383211 703.703103H192.030028A64.207489 64.207489 0 0 1 127.880338 639.488388V192.694717A64.102729 64.102729 0 0 1 192.030028 128.602826h640.00858A63.799284 63.799284 0 0 1 895.884854 192.391272v447.451135z"
                    fill="#adb5bd" p-id="33867"></path>
                <path
                    d="M608.154093 288.092004A31.970084 31.970084 0 0 0 576.184009 320.062089v160.078006l-134.650049-179.278119A31.970084 31.970084 0 0 0 384.002258 320.062089v255.760676a31.970084 31.970084 0 0 0 63.940169 0v-159.958796l134.650048 179.274507a31.970084 31.970084 0 0 0 57.531703-19.200113V320.062089a31.970084 31.970084 0 0 0-31.970085-31.970085z"
                    fill="#adb5bd" p-id="33868"></path>
            </svg>
            6242 Â≠ó</span>&nbsp;
        <span>
            
            <svg t="1656737462334" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
                p-id="32892" width="12" height="12">
                <path
                    d="M512 74.666667C270.933333 74.666667 74.666667 270.933333 74.666667 512S270.933333 949.333333 512 949.333333 949.333333 753.066667 949.333333 512 753.066667 74.666667 512 74.666667z m0 810.666666c-204.8 0-373.333333-168.533333-373.333333-373.333333S307.2 138.666667 512 138.666667 885.333333 307.2 885.333333 512 716.8 885.333333 512 885.333333z"
                    p-id="32893" fill="#adb5bd"></path>
                <path
                    d="M695.466667 567.466667l-151.466667-70.4V277.333333c0-17.066667-14.933333-32-32-32s-32 14.933333-32 32v238.933334c0 12.8 6.4 23.466667 19.2 29.866666l170.666667 81.066667c4.266667 2.133333 8.533333 2.133333 12.8 2.133333 12.8 0 23.466667-6.4 29.866666-19.2 6.4-14.933333 0-34.133333-17.066666-42.666666z"
                    p-id="32894" fill="#adb5bd"></path>
            </svg>
            13 ÂàÜÈíü</span>
        <div class="container-ctgtag">
	<div class="taxonomy">
		<div class="tag">
			
			
			<a href="/tags/mybatis">mybatis</a>
			
		</div>
	</div>
</div>
        
    </div>

    <div class="toc">
        <div class="container-page-operation">
	<div class="page-operation">
		<div><a href="/"><img src="/imgs/icons/home-2.svg" alt=""></a></div>
		<div><a href="/nav"><img src="/imgs/icons/iov-navigate-1.svg" alt=""></a></div>
		<div><a href="/wiki"><img src="/imgs/icons/wiki.svg" alt=""></a></div>
		<div><a href="/tags"><img src="/imgs/icons/treetags.svg" alt=""></a></div>
		<div id="light-dark"><a><img src="/imgs/icons/moon2.svg" alt=""></a></div>
		<div><a href="#"><img src="/imgs/icons/up2.svg" alt=""></a></div>
	</div>
</div>
        <nav id="TableOfContents">
  <ul>
    <li><a href="#‰∏ÄÁÆÄ‰ªã">‰∏Ä„ÄÅÁÆÄ‰ªã</a></li>
    <li><a href="#‰∫åÂêØÂä®">‰∫å„ÄÅÂêØÂä®</a></li>
    <li><a href="#‰∏âxml-ÈÖçÁΩÆÊñá‰ª∂">‰∏â„ÄÅXML ÈÖçÁΩÆÊñá‰ª∂</a>
      <ul>
        <li><a href="#Â∏∏Áî®ÁöÑÂèØËÉΩ‰øÆÊîπÈªòËÆ§ÂÄºÁöÑsettings">Â∏∏Áî®ÁöÑÂèØËÉΩ‰øÆÊîπÈªòËÆ§ÂÄºÁöÑsettings</a></li>
        <li><a href="#typealiasesËÆæÁΩÆ">typeAliasesËÆæÁΩÆ</a></li>
        <li><a href="#ÂèØËÉΩÈúÄË¶ÅÊõ¥Êç¢ÁöÑÈªòËÆ§typehandlers">ÂèØËÉΩÈúÄË¶ÅÊõ¥Êç¢ÁöÑÈªòËÆ§typeHandlers</a></li>
        <li><a href="#Êèí‰ª∂plugins">Êèí‰ª∂ÔºàpluginsÔºâ</a></li>
      </ul>
    </li>
    <li><a href="#ÂõõxmlÊò†Â∞ÑÊñá‰ª∂">Âõõ„ÄÅXMLÊò†Â∞ÑÊñá‰ª∂</a>
      <ul>
        <li><a href="#select">select</a></li>
        <li><a href="#insert-update-Âíå-delete">insert, update Âíå delete</a></li>
        <li><a href="#sql">sql</a></li>
        <li><a href="#ÂèÇÊï∞">ÂèÇÊï∞</a></li>
        <li><a href="#ÁºìÂ≠ò">ÁºìÂ≠ò</a></li>
        <li><a href="#Á¨¨‰∏âÊñπÁºìÂ≠òÊ°ÜÊû∂ehcacheÁöÑ‰ΩøÁî®">Á¨¨‰∏âÊñπÁºìÂ≠òÊ°ÜÊû∂ehcacheÁöÑ‰ΩøÁî®</a></li>
      </ul>
    </li>
    <li><a href="#‰∫îÁªìÊûúÈõÜ">‰∫î„ÄÅÁªìÊûúÈõÜ</a></li>
    <li><a href="#ÂÖ≠Âä®ÊÄÅ-sql">ÂÖ≠„ÄÅÂä®ÊÄÅ SQL</a>
      <ul>
        <li><a href="#ifÁî®‰∫éÊù°‰ª∂Âà§Êñ≠">ifÔºåÁî®‰∫éÊù°‰ª∂Âà§Êñ≠</a></li>
        <li><a href="#choose-choose-when-choose-otherwise">choose, choose-when, choose-otherwise</a></li>
        <li><a href="#trim-where-set">trim, where, set</a></li>
        <li><a href="#foreach">foreach</a></li>
        <li><a href="#bind">bind</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>

    <div class='content  '>
        <h2 id="‰∏ÄÁÆÄ‰ªã">‰∏Ä„ÄÅÁÆÄ‰ªã</h2>
<p>‚Äã	MyBatis ÊòØ‰∏ÄÊ¨æ‰ºòÁßÄÁöÑÊåÅ‰πÖÂ±ÇÊ°ÜÊû∂ÔºåÂÆÉÊîØÊåÅÂÆöÂà∂Âåñ SQL„ÄÅÂ≠òÂÇ®ËøáÁ®ã‰ª•ÂèäÈ´òÁ∫ßÊò†Â∞Ñ„ÄÇMyBatis ÈÅøÂÖç‰∫ÜÂá†‰πéÊâÄÊúâÁöÑ JDBC ‰ª£Á†ÅÂíåÊâãÂä®ËÆæÁΩÆÂèÇÊï∞‰ª•ÂèäËé∑ÂèñÁªìÊûúÈõÜ„ÄÇMyBatis ÂèØ‰ª•‰ΩøÁî®ÁÆÄÂçïÁöÑ XML ÊàñÊ≥®Ëß£Êù•ÈÖçÁΩÆÂíåÊò†Â∞ÑÂéüÁîü‰ø°ÊÅØÔºåÂ∞ÜÊé•Âè£Âíå Java ÁöÑ POJOs(Plain Old Java Objects,ÊôÆÈÄöÁöÑ JavaÂØπË±°)Êò†Â∞ÑÊàêÊï∞ÊçÆÂ∫ì‰∏≠ÁöÑËÆ∞ÂΩï„ÄÇ</p>
<h2 id="‰∫åÂêØÂä®">‰∫å„ÄÅÂêØÂä®</h2>
<p>Á¨¨‰∏ÄÊ≠•„ÄÅÂºïÂÖ•maven‰æùËµñ</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#000080">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000080">&lt;groupId&gt;</span>org.mybatis<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000080">&lt;artifactId&gt;</span>mybatis<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000080">&lt;version&gt;</span>x.x.x<span style="color:#000080">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;/dependency&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Á¨¨‰∫åÊ≠•„ÄÅÊûÑÂª∫ SqlSessionFactory</p>
<p>MyBatis ÁöÑÂ∫îÁî®ÈÉΩÊòØ‰ª•‰∏Ä‰∏™ <code>SqlSessionFactory</code> ÁöÑÂÆû‰æã‰∏∫Ê†∏ÂøÉÁöÑÔºå<code>SqlSessionFactory</code> ÁöÑÂÆû‰æãÂèØ‰ª•ÈÄöËøá <code>SqlSessionFactoryBuilder</code> Ëé∑Âæó„ÄÇ</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>String<span style="color:#bbb"> </span>resource<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span><span style="color:#d14">&#34;mybatis-config.xml&#34;</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>InputStream<span style="color:#bbb"> </span>inputStream<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>Resources.<span style="color:#008080">getResourceAsStream</span>(resource);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>SqlSessionFactory<span style="color:#bbb"> </span>sqlSessionFactory<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">new</span><span style="color:#bbb"> </span>SqlSessionFactoryBuilder().<span style="color:#008080">build</span>(inputStream);<span style="color:#bbb">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>ÁÆÄÂçïÁöÑ<code>mybatis-config.xml</code></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">&lt;!DOCTYPE configuration
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">  PUBLIC &#34;-//mybatis.org//DTD Config 3.0//EN&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">  &#34;http://mybatis.org/dtd/mybatis-3-config.dtd&#34;&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;configuration&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000080">&lt;environments</span> <span style="color:#008080">default=</span><span style="color:#d14">&#34;development&#34;</span><span style="color:#000080">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;environment</span> <span style="color:#008080">id=</span><span style="color:#d14">&#34;development&#34;</span><span style="color:#000080">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#000080">&lt;transactionManager</span> <span style="color:#008080">type=</span><span style="color:#d14">&#34;JDBC&#34;</span><span style="color:#000080">/&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#000080">&lt;dataSource</span> <span style="color:#008080">type=</span><span style="color:#d14">&#34;POOLED&#34;</span><span style="color:#000080">&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;property</span> <span style="color:#008080">name=</span><span style="color:#d14">&#34;driver&#34;</span> <span style="color:#008080">value=</span><span style="color:#d14">&#34;com.mysql.jdbc.Driver&#34;</span><span style="color:#000080">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;property</span> <span style="color:#008080">name=</span><span style="color:#d14">&#34;url&#34;</span> <span style="color:#008080">value=</span><span style="color:#d14">&#34;jdbc:mysql://127.0.0.1:3306/mybatis&#34;</span><span style="color:#000080">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;property</span> <span style="color:#008080">name=</span><span style="color:#d14">&#34;username&#34;</span> <span style="color:#008080">value=</span><span style="color:#d14">&#34;root&#34;</span><span style="color:#000080">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000080">&lt;property</span> <span style="color:#008080">name=</span><span style="color:#d14">&#34;password&#34;</span> <span style="color:#008080">value=</span><span style="color:#d14">&#34;123456&#34;</span><span style="color:#000080">/&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#000080">&lt;/dataSource&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;/environment&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000080">&lt;/environments&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000080">&lt;mappers&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;mapper</span> <span style="color:#008080">resource=</span><span style="color:#d14">&#34;mapper/PersonMapper.xml&#34;</span><span style="color:#000080">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000080">&lt;/mappers&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;/configuration&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Á¨¨‰∏âÊ≠•„ÄÅSqlSessionFactory ‰∏≠Ëé∑Âèñ SqlSession</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>SqlSession<span style="color:#bbb"> </span>session<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>sqlSessionFactory.<span style="color:#008080">openSession</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#998;font-style:italic">//com.kun.start.mapper.PersonMapperÊòØPersonMapper.xmlÁöÑnamespaceÔºåselectAllÂÖ∑‰ΩìsqlÁöÑID</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>List<span style="color:#000;font-weight:bold">&lt;</span>Object<span style="color:#000;font-weight:bold">&gt;</span><span style="color:#bbb"> </span>persons<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>session.<span style="color:#008080">selectList</span>(<span style="color:#d14">&#34;com.kun.start.mapper.PersonMapper.selectAll&#34;</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#000;font-weight:bold">for</span><span style="color:#bbb"> </span>(Object<span style="color:#bbb"> </span>person<span style="color:#bbb"> </span>:<span style="color:#bbb"> </span>persons)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span>System.<span style="color:#008080">out</span>.<span style="color:#008080">println</span>(person);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>‰πüÂèØ‰ª•‰ΩøÁî®Êé•Âè£ÁöÑÊñπÂºèË∞ÉÁî®</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>SqlSession<span style="color:#bbb"> </span>session<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>sqlSessionFactory.<span style="color:#008080">openSession</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#998;font-style:italic">//‰ºöÊ†πÊçÆPersonMapperÂÖ®ÈôêÂÆöÂëΩÊâæÂà∞ÂØπÂ∫îÁöÑPersonMapper.xmlÔºåÂä®ÊÄÅ‰ª£ÁêÜÊ≠§Êé•Âè£</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>PersonMapper<span style="color:#bbb"> </span>mapper<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>session.<span style="color:#008080">getMapper</span>(PersonMapper.<span style="color:#008080">class</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>List<span style="color:#000;font-weight:bold">&lt;</span>Person<span style="color:#000;font-weight:bold">&gt;</span><span style="color:#bbb"> </span>persons<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>mapper.<span style="color:#008080">selectAll</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#000;font-weight:bold">for</span><span style="color:#bbb"> </span>(Person<span style="color:#bbb"> </span>person<span style="color:#bbb"> </span>:<span style="color:#bbb"> </span>persons)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span>System.<span style="color:#008080">out</span>.<span style="color:#008080">println</span>(person);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>‰ΩúÁî®ÂüüÔºàScopeÔºâÂíåÁîüÂëΩÂë®Êúü</p>
<ul>
<li>
<p><code>SqlSessionFactoryBuilder</code>Ôºö‰∏ÄÊó¶ÂàõÂª∫‰∫Ü SqlSessionFactoryÔºåÂ∞±‰∏çÂÜçÈúÄË¶ÅÂÆÉÔºåÂç≥‰ºöË¢´‰∏¢ÂºÉ„ÄÇ</p>
</li>
<li>
<p><code>SqlSessionFactory</code>ÔºöSqlSessionFactory ‰∏ÄÊó¶Ë¢´ÂàõÂª∫Â∞±Â∫îËØ•Âú®Â∫îÁî®ÁöÑËøêË°åÊúüÈó¥‰∏ÄÁõ¥Â≠òÂú®ÔºåÊ≤°Êúâ‰ªª‰ΩïÁêÜÁî±ÂØπÂÆÉËøõË°åÊ∏ÖÈô§ÊàñÈáçÂª∫ÔºåÂ∫îÁî®‰∏≠Â∫îËØ•Âè™Â≠òÂú®‰∏Ä‰∏™„ÄÇ</p>
</li>
<li>
<p><code>SqlSession</code>ÔºöÊØè‰∏™Á∫øÁ®ãÈÉΩÂ∫îËØ•ÊúâÂÆÉËá™Â∑±ÁöÑ SqlSession ÂÆû‰æã„ÄÇSqlSession ÁöÑÂÆû‰æã‰∏çÊòØÁ∫øÁ®ãÂÆâÂÖ®ÁöÑÔºåÂõ†Ê≠§ÊòØ‰∏çËÉΩË¢´ÂÖ±‰∫´ÁöÑÔºåÊâÄ‰ª•ÂÆÉÁöÑÊúÄ‰Ω≥ÁöÑ‰ΩúÁî®ÂüüÊòØËØ∑Ê±ÇÊàñÊñπÊ≥ï‰ΩúÁî®ÂüüÔºå‰∏çÂèØ‰ª•ÊîæÂú®ThreadLocalÂΩì‰∏≠</p>
</li>
<li>
<p><code>Mapper Instances</code>ÔºöÁî®Ëøá‰πãÂêéÂç≥ÂèØÂ∫üÂºÉ,Âπ∂‰∏çÈúÄË¶ÅÊòæÂºèÂú∞ÂÖ≥Èó≠Êò†Â∞ÑÂô®ÂÆû‰æã„ÄÇ</p>
</li>
</ul>
<h2 id="‰∏âxml-ÈÖçÁΩÆÊñá‰ª∂">‰∏â„ÄÅXML ÈÖçÁΩÆÊñá‰ª∂</h2>
<h3 id="Â∏∏Áî®ÁöÑÂèØËÉΩ‰øÆÊîπÈªòËÆ§ÂÄºÁöÑsettings">Â∏∏Áî®ÁöÑÂèØËÉΩ‰øÆÊîπÈªòËÆ§ÂÄºÁöÑsettings</h3>
<table>
<thead>
<tr>
<th>ÂèÇÊï∞</th>
<th>ÊèèËø∞</th>
<th>ÈªòËÆ§ÂÄº</th>
</tr>
</thead>
<tbody>
<tr>
<td>lazyLoadingEnabled</td>
<td>ÊáíÂä†ËΩΩÁöÑÂÖ®Â±ÄÂºÄÂÖ≥„ÄÇÂΩìÂºÄÂêØÊó∂ÔºåÊâÄÊúâÂÖ≥ËÅîÂØπË±°ÈÉΩ‰ºöÂª∂ËøüÂä†ËΩΩ„ÄÇ ÁâπÂÆöÂÖ≥ËÅîÂÖ≥Á≥ª‰∏≠ÂèØÈÄöËøáËÆæÁΩÆ<code>fetchType</code>Â±ûÊÄßÊù•Ë¶ÜÁõñËØ•È°πÁöÑÂºÄÂÖ≥Áä∂ÊÄÅ„ÄÇ</td>
<td>false</td>
</tr>
<tr>
<td>aggressiveLazyLoading</td>
<td>ÂΩìÂºÄÂêØÊó∂Ôºå‰ªª‰ΩïÊñπÊ≥ïÁöÑË∞ÉÁî®ÈÉΩ‰ºöÂä†ËΩΩËØ•ÂØπË±°ÁöÑÊâÄÊúâÂ±ûÊÄß„ÄÇÂê¶ÂàôÔºåÊØè‰∏™Â±ûÊÄß‰ºöÊåâÈúÄÂä†ËΩΩ</td>
<td>false (true in ‚â§3.4.1)</td>
</tr>
<tr>
<td>mapUnderscoreToCamelCase</td>
<td>Âê¶ÂºÄÂêØËá™Âä®È©ºÂ≥∞ÂëΩÂêçËßÑÂàôÔºàcamel caseÔºâÊò†Â∞Ñ</td>
<td>False</td>
</tr>
<tr>
<td>lazyLoadTriggerMethods</td>
<td>ÊåáÂÆöÂØπË±°ÁöÑÂì™‰∏™ÊñπÊ≥ïËß¶ÂèëÂª∂ËøüÂä†ËΩΩ</td>
<td>equals,clone,hashCode,toString</td>
</tr>
<tr>
<td>defaultEnumTypeHandler</td>
<td>ÊåáÂÆö Enum ‰ΩøÁî®ÁöÑÈªòËÆ§ <code>TypeHandler</code> „ÄÇ (‰ªé3.4.5ÂºÄÂßã)</td>
<td>org.apache.ibatis.type.EnumTypeHandler</td>
</tr>
</tbody>
</table>
<p><a href="http://www.mybatis.org/mybatis-3/zh/configuration.html#settings">ËØ¶ÁªÜÁöÑsettingËÆæÁΩÆ</a></p>
<h3 id="typealiasesËÆæÁΩÆ">typeAliasesËÆæÁΩÆ</h3>
<p>Á±ªÂûãÂà´ÂêçÊòØ‰∏∫ java Á±ªÂûãËÆæÁΩÆ‰∏Ä‰∏™Áü≠ÁöÑÂêçÂ≠óÔºå‰πüÂèØ‰ª•Âú®Á±ª‰∏ä‰ΩøÁî®<code>@Alias(&quot;xxx&quot;)</code>„ÄÇÂÆÉÂè™Âíå XML ÈÖçÁΩÆÊúâÂÖ≥„ÄÇ‰æãÂ¶Ç:</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#000080">&lt;typeAliases&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000080">&lt;typeAlias</span> <span style="color:#008080">alias=</span><span style="color:#d14">&#34;Author&#34;</span> <span style="color:#008080">type=</span><span style="color:#d14">&#34;domain.blog.Author&#34;</span><span style="color:#000080">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000080">&lt;typeAlias</span> <span style="color:#008080">alias=</span><span style="color:#d14">&#34;Blog&#34;</span> <span style="color:#008080">type=</span><span style="color:#d14">&#34;domain.blog.Blog&#34;</span><span style="color:#000080">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000080">&lt;typeAlias</span> <span style="color:#008080">alias=</span><span style="color:#d14">&#34;Comment&#34;</span> <span style="color:#008080">type=</span><span style="color:#d14">&#34;domain.blog.Comment&#34;</span><span style="color:#000080">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;/typeAliases&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="ÂèØËÉΩÈúÄË¶ÅÊõ¥Êç¢ÁöÑÈªòËÆ§typehandlers">ÂèØËÉΩÈúÄË¶ÅÊõ¥Êç¢ÁöÑÈªòËÆ§typeHandlers</h3>
<table>
<thead>
<tr>
<th>Á±ªÂûãÂ§ÑÁêÜÂô®</th>
<th>Java Á±ªÂûã</th>
<th>JDBC Á±ªÂûã</th>
</tr>
</thead>
<tbody>
<tr>
<td>EnumTypeHandler</td>
<td>Enumeration Type</td>
<td>VARCHAR-‰ªª‰ΩïÂÖºÂÆπÁöÑÂ≠óÁ¨¶‰∏≤Á±ªÂûãÔºåÂ≠òÂÇ®Êûö‰∏æÁöÑÂêçÁß∞ÔºàËÄå‰∏çÊòØÁ¥¢ÂºïÔºâ</td>
</tr>
<tr>
<td>EnumOrdinalTypeHandler</td>
<td>Enumeration Type</td>
<td>‰ªª‰ΩïÂÖºÂÆπÁöÑ <code>NUMERIC</code> Êàñ <code>DOUBLE</code> Á±ªÂûãÔºåÂ≠òÂÇ®Êûö‰∏æÁöÑÁ¥¢ÂºïÔºàËÄå‰∏çÊòØÂêçÁß∞Ôºâ„ÄÇ</td>
</tr>
</tbody>
</table>
<p>Ëá™ÂÆö‰πâÊûö‰∏æÂ§ÑÁêÜÂô®Ôºö</p>
<ol>
<li>
<p>Êûö‰∏æÁ±ªÊé•Âè£ÔºåÂÆö‰πâÁªü‰∏ÄËßÑËåÉ</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">interface</span> <span style="color:#458;font-weight:bold">BaseEnum</span><span style="color:#000;font-weight:bold">&lt;</span>E<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">extends</span><span style="color:#bbb"> </span>Enum<span style="color:#000;font-weight:bold">&lt;?&gt;</span>,T<span style="color:#000;font-weight:bold">&gt;</span><span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span>T<span style="color:#bbb"> </span><span style="color:#900;font-weight:bold">getCode</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span>String<span style="color:#bbb"> </span><span style="color:#900;font-weight:bold">getMessage</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>Ëá™ÂÆö‰πâÊûö‰∏æÁ±ª</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">enum</span><span style="color:#bbb"> </span>InfoEnum<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">implements</span><span style="color:#bbb"> </span>BaseEnum<span style="color:#000;font-weight:bold">&lt;</span>InfoEnum,String<span style="color:#000;font-weight:bold">&gt;</span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span>SUCCESS(<span style="color:#d14">&#34;200&#34;</span>,<span style="color:#d14">&#34;ÊàêÂäü&#34;</span>),<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span>FAILD(<span style="color:#d14">&#34;500&#34;</span>,<span style="color:#d14">&#34;ÈîôËØØ&#34;</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#000;font-weight:bold">private</span><span style="color:#bbb"> </span>String<span style="color:#bbb"> </span>code;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#000;font-weight:bold">private</span><span style="color:#bbb"> </span>String<span style="color:#bbb"> </span>message;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#000;font-weight:bold">static</span><span style="color:#bbb"> </span>Map<span style="color:#000;font-weight:bold">&lt;</span>String,InfoEnum<span style="color:#000;font-weight:bold">&gt;</span><span style="color:#bbb"> </span>enumMap<span style="color:#000;font-weight:bold">=</span><span style="color:#000;font-weight:bold">new</span><span style="color:#bbb"> </span>HashMap<span style="color:#000;font-weight:bold">&lt;</span>String,<span style="color:#bbb"> </span>InfoEnum<span style="color:#000;font-weight:bold">&gt;</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#000;font-weight:bold">static</span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>(InfoEnum<span style="color:#bbb"> </span>type:InfoEnum.<span style="color:#008080">values</span>()){<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">      </span>enumMap.<span style="color:#008080">put</span>(type.<span style="color:#008080">getCode</span>(),<span style="color:#bbb"> </span>type);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#000;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">static</span><span style="color:#bbb"> </span>Map<span style="color:#000;font-weight:bold">&lt;</span>String,InfoEnum<span style="color:#000;font-weight:bold">&gt;</span><span style="color:#bbb"> </span><span style="color:#900;font-weight:bold">getAll</span>()<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000;font-weight:bold">return</span><span style="color:#bbb"> </span>enumMap;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#000;font-weight:bold">private</span><span style="color:#bbb"> </span><span style="color:#900;font-weight:bold">InfoEnum</span>(String<span style="color:#bbb"> </span>code,<span style="color:#bbb"> </span>String<span style="color:#bbb"> </span>message)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000;font-weight:bold">this</span>.<span style="color:#008080">code</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>code;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000;font-weight:bold">this</span>.<span style="color:#008080">message</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>message;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#3c5d5d;font-weight:bold">@Override</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#000;font-weight:bold">public</span><span style="color:#bbb"> </span>String<span style="color:#bbb"> </span><span style="color:#900;font-weight:bold">getCode</span>()<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000;font-weight:bold">return</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">this</span>.<span style="color:#008080">code</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#3c5d5d;font-weight:bold">@Override</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#000;font-weight:bold">public</span><span style="color:#bbb"> </span>String<span style="color:#bbb"> </span><span style="color:#900;font-weight:bold">getMessage</span>()<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000;font-weight:bold">return</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">this</span>.<span style="color:#008080">message</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>Ëá™ÂÆö‰πâÊûö‰∏æÁ±ªÂûãÂ§ÑÁêÜÂô®</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">class</span> <span style="color:#458;font-weight:bold">InfoEnumTypeHandler</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">extends</span><span style="color:#bbb"> </span>BaseTypeHandler<span style="color:#000;font-weight:bold">&lt;</span>InfoEnum<span style="color:#000;font-weight:bold">&gt;</span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#3c5d5d;font-weight:bold">@Override</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#000;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#900;font-weight:bold">setNonNullParameter</span>(PreparedStatement<span style="color:#bbb"> </span>ps,<span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>i,<span style="color:#bbb"> </span>InfoEnum<span style="color:#bbb"> </span>parameter,<span style="color:#bbb"> </span>JdbcType<span style="color:#bbb"> </span>jdbcType)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000;font-weight:bold">throws</span><span style="color:#bbb"> </span>SQLException<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>ps.<span style="color:#008080">setString</span>(i,<span style="color:#bbb"> </span>parameter.<span style="color:#008080">getCode</span>());<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#3c5d5d;font-weight:bold">@Override</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#000;font-weight:bold">public</span><span style="color:#bbb"> </span>InfoEnum<span style="color:#bbb"> </span><span style="color:#900;font-weight:bold">getNullableResult</span>(ResultSet<span style="color:#bbb"> </span>rs,<span style="color:#bbb"> </span>String<span style="color:#bbb"> </span>columnName)<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">throws</span><span style="color:#bbb"> </span>SQLException<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>String<span style="color:#bbb"> </span>columnValue<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>rs.<span style="color:#008080">getString</span>(columnName);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000;font-weight:bold">return</span><span style="color:#bbb"> </span>InfoEnum.<span style="color:#008080">getAll</span>().<span style="color:#008080">get</span>(columnValue);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#3c5d5d;font-weight:bold">@Override</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#000;font-weight:bold">public</span><span style="color:#bbb"> </span>InfoEnum<span style="color:#bbb"> </span><span style="color:#900;font-weight:bold">getNullableResult</span>(ResultSet<span style="color:#bbb"> </span>rs,<span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>columnIndex)<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">throws</span><span style="color:#bbb"> </span>SQLException<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>String<span style="color:#bbb"> </span>columnValue<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>rs.<span style="color:#008080">getString</span>(columnIndex);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000;font-weight:bold">return</span><span style="color:#bbb"> </span>InfoEnum.<span style="color:#008080">getAll</span>().<span style="color:#008080">get</span>(columnValue);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#3c5d5d;font-weight:bold">@Override</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#000;font-weight:bold">public</span><span style="color:#bbb"> </span>InfoEnum<span style="color:#bbb"> </span><span style="color:#900;font-weight:bold">getNullableResult</span>(CallableStatement<span style="color:#bbb"> </span>cs,<span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>columnIndex)<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">throws</span><span style="color:#bbb"> </span>SQLException<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>String<span style="color:#bbb"> </span>columnValue<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>cs.<span style="color:#008080">getString</span>(columnIndex);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000;font-weight:bold">return</span><span style="color:#bbb"> </span>InfoEnum.<span style="color:#008080">getAll</span>().<span style="color:#008080">get</span>(columnValue);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>ÈÖçÁΩÆËá™ÂÆö‰πâÁ±ªÂûãÂ§ÑÁêÜÂô®</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#998;font-style:italic">&lt;!-- mybatis-config.xml --&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;typeHandlers&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000080">&lt;typeHandler</span> <span style="color:#008080">handler=</span><span style="color:#d14">&#34;com.kun.start.typehandler.InfoEnumTypeHandler&#34;</span><span style="color:#000080">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;/typeHandlers&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ol>
<h3 id="Êèí‰ª∂plugins">Êèí‰ª∂ÔºàpluginsÔºâ</h3>
<p>MyBatis ÂÖÅËÆ∏‰Ω†Âú®Â∑≤Êò†Â∞ÑËØ≠Âè•ÊâßË°åËøáÁ®ã‰∏≠ÁöÑÊüê‰∏ÄÁÇπËøõË°åÊã¶Êà™Ë∞ÉÁî®„ÄÇÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåMyBatis ÂÖÅËÆ∏‰ΩøÁî®Êèí‰ª∂Êù•Êã¶Êà™ÁöÑÊñπÊ≥ïË∞ÉÁî®ÂåÖÊã¨Ôºö</p>
<ul>
<li>Executor (update, query, flushStatements, commit, rollback, getTransaction, close, isClosed)</li>
<li>ParameterHandler (getParameterObject, setParameters)</li>
<li>ResultSetHandler (handleResultSets, handleOutputParameters)</li>
<li>StatementHandler (prepare, parameterize, batch, update, query)</li>
</ul>
<p>‰æãËá™ÂÆö‰πâÊèí‰ª∂Ôºö</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#3c5d5d;font-weight:bold">@Intercepts</span>(value<span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>{<span style="color:#3c5d5d;font-weight:bold">@Signature</span>(type<span style="color:#000;font-weight:bold">=</span>Executor.<span style="color:#008080">class</span>,method<span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;query&#34;</span>,args<span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>{MappedStatement.<span style="color:#008080">class</span>,Object.<span style="color:#008080">class</span>,RowBounds.<span style="color:#008080">class</span>,ResultHandler.<span style="color:#008080">class</span>})})<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#000;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">class</span> <span style="color:#458;font-weight:bold">ExamplePlugin</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">implements</span><span style="color:#bbb"> </span>Interceptor{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#3c5d5d;font-weight:bold">@Override</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#000;font-weight:bold">public</span><span style="color:#bbb"> </span>Object<span style="color:#bbb"> </span><span style="color:#900;font-weight:bold">intercept</span>(Invocation<span style="color:#bbb"> </span>invocation)<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">throws</span><span style="color:#bbb"> </span>Throwable<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000;font-weight:bold">for</span><span style="color:#bbb"> </span>(Object<span style="color:#bbb"> </span>arg<span style="color:#bbb"> </span>:<span style="color:#bbb"> </span>invocation.<span style="color:#008080">getArgs</span>())<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">      </span><span style="color:#000;font-weight:bold">if</span>(arg<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">!=</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">null</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">&amp;&amp;</span><span style="color:#bbb"> </span>arg<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">instanceof</span><span style="color:#bbb"> </span>MappedStatement)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>MappedStatement<span style="color:#bbb"> </span>ms<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>(MappedStatement)<span style="color:#bbb"> </span>arg;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>System.<span style="color:#008080">out</span>.<span style="color:#008080">println</span>(<span style="color:#d14">&#34;id = &#34;</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">+</span>ms.<span style="color:#008080">getId</span>());<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">      </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000;font-weight:bold">return</span><span style="color:#bbb"> </span>invocation.<span style="color:#008080">proceed</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#3c5d5d;font-weight:bold">@Override</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#000;font-weight:bold">public</span><span style="color:#bbb"> </span>Object<span style="color:#bbb"> </span><span style="color:#900;font-weight:bold">plugin</span>(Object<span style="color:#bbb"> </span>target)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000;font-weight:bold">return</span><span style="color:#bbb"> </span>Plugin.<span style="color:#008080">wrap</span>(target,<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">this</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#3c5d5d;font-weight:bold">@Override</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#000;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#900;font-weight:bold">setProperties</span>(Properties<span style="color:#bbb"> </span>properties)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>System.<span style="color:#008080">out</span>.<span style="color:#008080">println</span>(properties.<span style="color:#008080">get</span>(<span style="color:#d14">&#34;pro&#34;</span>));<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h2 id="ÂõõxmlÊò†Â∞ÑÊñá‰ª∂">Âõõ„ÄÅXMLÊò†Â∞ÑÊñá‰ª∂</h2>
<p>SQL Êò†Â∞ÑÊñá‰ª∂Âá†‰∏™È°∂Á∫ßÂÖÉÁ¥†</p>
<ul>
<li><code>cache</code> ‚Äì ÁªôÂÆöÂëΩÂêçÁ©∫Èó¥ÁöÑÁºìÂ≠òÈÖçÁΩÆ„ÄÇ</li>
<li><code>cache-ref</code> ‚Äì ÂÖ∂‰ªñÂëΩÂêçÁ©∫Èó¥ÁºìÂ≠òÈÖçÁΩÆÁöÑÂºïÁî®„ÄÇ</li>
<li><code>resultMap</code> ‚Äì ÊòØÊúÄÂ§çÊùÇ‰πüÊòØÊúÄÂº∫Â§ßÁöÑÂÖÉÁ¥†ÔºåÁî®Êù•ÊèèËø∞Â¶Ç‰Ωï‰ªéÊï∞ÊçÆÂ∫ìÁªìÊûúÈõÜ‰∏≠Êù•Âä†ËΩΩÂØπË±°„ÄÇ</li>
<li><code>sql</code> ‚Äì ÂèØË¢´ÂÖ∂‰ªñËØ≠Âè•ÂºïÁî®ÁöÑÂèØÈáçÁî®ËØ≠Âè•Âùó„ÄÇ</li>
<li><code>insert</code> ‚Äì Êò†Â∞ÑÊèíÂÖ•ËØ≠Âè•</li>
<li><code>update</code> ‚Äì Êò†Â∞ÑÊõ¥Êñ∞ËØ≠Âè•</li>
<li><code>delete</code> ‚Äì Êò†Â∞ÑÂà†Èô§ËØ≠Âè•</li>
<li><code>select</code> ‚Äì Êò†Â∞ÑÊü•ËØ¢ËØ≠Âè•</li>
</ul>
<h3 id="select">select</h3>
<ul>
<li>
<p>Âü∫Êú¨Ôºå<code>#{id}</code>‰ºöÂú®È¢ÑÁºñËØëËØ≠‰∏≠Ë¢´ÊõøÊç¢‰∏∫<code>?</code>ÔºåÂΩìÂè™Êúâ‰∏Ä‰∏™ÂèÇÊï∞Êó∂ÂÄôÔºå<code>#{param}</code>ÂèØ‰ª•ÊòØ‰ªªÊÑèÂêçÁß∞ÔºåÂΩìÂèÇÊï∞‰∏™Êï∞Â§ß‰∫é1Êó∂Ôºå‰ΩøÁî®<code>#{arg0}Ôºå#{arg1}Ôºå#{arg2}...</code>ÊàñËÄÖ<code>#{param1}Ôºå#{param2}Ôºå#{param3}...</code>ÔºåÊ≠§Êó∂‰π†ÊÉØ‰ΩøÁî®<code>@Param(&quot;[ÂèÇÊï∞ÂêçÁß∞]&quot;)</code>Êù•ÊåáÂÆöÂèÇÊï∞ÁöÑÂêçÁß∞„ÄÇ</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#000080">&lt;select</span> <span style="color:#008080">id=</span><span style="color:#d14">&#34;selectPerson&#34;</span> <span style="color:#008080">parameterType=</span><span style="color:#d14">&#34;int&#34;</span> <span style="color:#008080">resultType=</span><span style="color:#d14">&#34;hashmap&#34;</span><span style="color:#000080">&gt;</span>
</span></span><span style="display:flex;"><span>  SELECT * FROM PERSON WHERE ID = #{id}
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;/select&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>Â∏∏Áî®ÂèØÈÄâÂ±ûÊÄß</p>
<table>
<thead>
<tr>
<th>Â±ûÊÄß</th>
<th>ÊèèËø∞</th>
</tr>
</thead>
<tbody>
<tr>
<td>parameterType</td>
<td>Â∞Ü‰ºö‰º†ÂÖ•ËøôÊù°ËØ≠Âè•ÁöÑÂèÇÊï∞Á±ªÁöÑÂÆåÂÖ®ÈôêÂÆöÂêçÊàñÂà´Âêç„ÄÇËøô‰∏™Â±ûÊÄßÊòØÂèØÈÄâÁöÑÔºåÂõ†‰∏∫ MyBatis ÂèØ‰ª•ÈÄöËøá TypeHandler Êé®Êñ≠Âá∫ÂÖ∑‰Ωì‰º†ÂÖ•ËØ≠Âè•ÁöÑÂèÇÊï∞ÔºåÈªòËÆ§ÂÄº‰∏∫ unset</td>
</tr>
<tr>
<td>resultType</td>
<td>‰ªéËøôÊù°ËØ≠Âè•‰∏≠ËøîÂõûÁöÑÊúüÊúõÁ±ªÂûãÁöÑÁ±ªÁöÑÂÆåÂÖ®ÈôêÂÆöÂêçÊàñÂà´Âêç„ÄÇÊ≥®ÊÑèÂ¶ÇÊûúÊòØÈõÜÂêàÊÉÖÂΩ¢ÔºåÈÇ£Â∫îËØ•ÊòØÈõÜÂêàÂèØ‰ª•ÂåÖÂê´ÁöÑÁ±ªÂûãÔºåËÄå‰∏çËÉΩÊòØÈõÜÂêàÊú¨Ë∫´„ÄÇ‰ΩøÁî® resultType Êàñ resultMapÔºå‰ΩÜ‰∏çËÉΩÂêåÊó∂‰ΩøÁî®</td>
</tr>
<tr>
<td>resultMap</td>
<td>Â§ñÈÉ® resultMap ÁöÑÂëΩÂêçÂºïÁî®„ÄÇÁªìÊûúÈõÜÁöÑÊò†Â∞ÑÊòØ MyBatis ÊúÄÂº∫Â§ßÁöÑÁâπÊÄßÔºåÂØπÂÖ∂Êúâ‰∏Ä‰∏™ÂæàÂ•ΩÁöÑÁêÜËß£ÁöÑËØùÔºåËÆ∏Â§öÂ§çÊùÇÊò†Â∞ÑÁöÑÊÉÖÂΩ¢ÈÉΩËÉΩËøéÂàÉËÄåËß£„ÄÇ‰ΩøÁî® resultMap Êàñ resultTypeÔºå‰ΩÜ‰∏çËÉΩÂêåÊó∂‰ΩøÁî®</td>
</tr>
<tr>
<td>flushCache</td>
<td>Â∞ÜÂÖ∂ËÆæÁΩÆ‰∏∫ trueÔºå‰ªª‰ΩïÊó∂ÂÄôÂè™Ë¶ÅËØ≠Âè•Ë¢´Ë∞ÉÁî®ÔºåÈÉΩ‰ºöÂØºËá¥Êú¨Âú∞ÁºìÂ≠òÂíå‰∫åÁ∫ßÁºìÂ≠òÈÉΩ‰ºöË¢´Ê∏ÖÁ©∫ÔºåÈªòËÆ§ÂÄºÔºöfalse</td>
</tr>
<tr>
<td>useCache</td>
<td>Â∞ÜÂÖ∂ËÆæÁΩÆ‰∏∫ trueÔºåÂ∞Ü‰ºöÂØºËá¥Êú¨Êù°ËØ≠Âè•ÁöÑÁªìÊûúË¢´‰∫åÁ∫ßÁºìÂ≠òÔºåÈªòËÆ§ÂÄºÔºöÂØπ select ÂÖÉÁ¥†‰∏∫ true</td>
</tr>
<tr>
<td>statementType</td>
<td>STATEMENTÔºåPREPARED Êàñ CALLABLE ÁöÑ‰∏Ä‰∏™„ÄÇËøô‰ºöËÆ© MyBatis ÂàÜÂà´‰ΩøÁî® StatementÔºåPreparedStatement Êàñ CallableStatementÔºåÈªòËÆ§ÂÄºÔºöPREPARED</td>
</tr>
</tbody>
</table>
</li>
</ul>
<h3 id="insert-update-Âíå-delete">insert, update Âíå delete</h3>
<ul>
<li>
<p>Â∏∏Áî®ÂèØÈÄâÂ±ûÊÄßÔºàinsert„ÄÅupdate„ÄÅdeleteÔºâ</p>
<table>
<thead>
<tr>
<th>Â±ûÊÄß</th>
<th>ÊèèËø∞</th>
</tr>
</thead>
<tbody>
<tr>
<td>parameterType</td>
<td>Â∞ÜË¶Å‰º†ÂÖ•ËØ≠Âè•ÁöÑÂèÇÊï∞ÁöÑÂÆåÂÖ®ÈôêÂÆöÁ±ªÂêçÊàñÂà´Âêç„ÄÇËøô‰∏™Â±ûÊÄßÊòØÂèØÈÄâÁöÑÔºåÂõ†‰∏∫ MyBatis ÂèØ‰ª•ÈÄöËøá TypeHandler Êé®Êñ≠Âá∫ÂÖ∑‰Ωì‰º†ÂÖ•ËØ≠Âè•ÁöÑÂèÇÊï∞ÔºåÈªòËÆ§ÂÄº‰∏∫ unset</td>
</tr>
<tr>
<td>flushCache</td>
<td>Â∞ÜÂÖ∂ËÆæÁΩÆ‰∏∫ trueÔºå‰ªª‰ΩïÊó∂ÂÄôÂè™Ë¶ÅËØ≠Âè•Ë¢´Ë∞ÉÁî®ÔºåÈÉΩ‰ºöÂØºËá¥Êú¨Âú∞ÁºìÂ≠òÂíå‰∫åÁ∫ßÁºìÂ≠òÈÉΩ‰ºöË¢´Ê∏ÖÁ©∫ÔºåÈªòËÆ§ÂÄºÔºötrue</td>
</tr>
<tr>
<td>statementType</td>
<td>STATEMENTÔºåPREPARED Êàñ CALLABLE ÁöÑ‰∏Ä‰∏™„ÄÇËøô‰ºöËÆ© MyBatis ÂàÜÂà´‰ΩøÁî® StatementÔºåPreparedStatement Êàñ CallableStatementÔºåÈªòËÆ§ÂÄºÔºöPREPARED</td>
</tr>
<tr>
<td>useGeneratedKeys</td>
<td>Ôºà‰ªÖÂØπ insert Âíå update ÊúâÁî®ÔºâËøô‰ºö‰ª§ MyBatis ‰ΩøÁî® JDBC ÁöÑ getGeneratedKeys ÊñπÊ≥ïÊù•ÂèñÂá∫Áî±Êï∞ÊçÆÂ∫ìÂÜÖÈÉ®ÁîüÊàêÁöÑ‰∏ªÈîÆÔºàÊØîÂ¶ÇÔºöÂÉè MySQL Âíå SQL Server ËøôÊ†∑ÁöÑÂÖ≥Á≥ªÊï∞ÊçÆÂ∫ìÁÆ°ÁêÜÁ≥ªÁªüÁöÑËá™Âä®ÈÄíÂ¢ûÂ≠óÊÆµÔºâÔºåÈªòËÆ§ÂÄºÔºöfalse</td>
</tr>
<tr>
<td>keyProperty</td>
<td>Ôºà‰ªÖÂØπ insert Âíå update ÊúâÁî®ÔºâÂîØ‰∏ÄÊ†áËÆ∞‰∏Ä‰∏™Â±ûÊÄßÔºåMyBatis ‰ºöÈÄöËøá getGeneratedKeys ÁöÑËøîÂõûÂÄºÊàñËÄÖÈÄöËøá insert ËØ≠Âè•ÁöÑ selectKey Â≠êÂÖÉÁ¥†ËÆæÁΩÆÂÆÉÁöÑÈîÆÂÄºÔºåÈªòËÆ§Ôºö<code>unset</code>„ÄÇÂ¶ÇÊûúÂ∏åÊúõÂæóÂà∞Â§ö‰∏™ÁîüÊàêÁöÑÂàóÔºå‰πüÂèØ‰ª•ÊòØÈÄóÂè∑ÂàÜÈöîÁöÑÂ±ûÊÄßÂêçÁß∞ÂàóË°®</td>
</tr>
<tr>
<td>keyColumn</td>
<td>Ôºà‰ªÖÂØπ insert Âíå update ÊúâÁî®ÔºâÈÄöËøáÁîüÊàêÁöÑÈîÆÂÄºËÆæÁΩÆË°®‰∏≠ÁöÑÂàóÂêçÔºåËøô‰∏™ËÆæÁΩÆ‰ªÖÂú®Êüê‰∫õÊï∞ÊçÆÂ∫ìÔºàÂÉè PostgreSQLÔºâÊòØÂøÖÈ°ªÁöÑÔºåÂΩì‰∏ªÈîÆÂàó‰∏çÊòØË°®‰∏≠ÁöÑÁ¨¨‰∏ÄÂàóÁöÑÊó∂ÂÄôÈúÄË¶ÅËÆæÁΩÆ„ÄÇÂ¶ÇÊûúÂ∏åÊúõÂæóÂà∞Â§ö‰∏™ÁîüÊàêÁöÑÂàóÔºå‰πüÂèØ‰ª•ÊòØÈÄóÂè∑ÂàÜÈöîÁöÑÂ±ûÊÄßÂêçÁß∞ÂàóË°®</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Êúâ‰∫õÊï∞ÊçÆÂ∫ìÔºà‰æãÂ¶ÇOracleÔºâ‰∏ªÈîÆÁîüÊàêÁ≠ñÁï•ÊòØÂ∫èÂàóÂåñË°®ÔºåÊâÄ‰ª•<code>select</code>ÂºïÂÖ•Â≠êÊ†áÁ≠æ<code>selectKey</code></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#000080">&lt;insert</span> <span style="color:#008080">id=</span><span style="color:#d14">&#34;insertUser&#34;</span> <span style="color:#000080">&gt;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#000080">&lt;selectKey</span> <span style="color:#008080">resultType=</span><span style="color:#d14">&#34;int&#34;</span> <span style="color:#008080">keyProperty=</span><span style="color:#d14">&#34;id&#34;</span> <span style="color:#008080">order=</span><span style="color:#d14">&#34;BEFORE&#34;</span><span style="color:#000080">&gt;</span> 
</span></span><span style="display:flex;"><span>    select SEQ_USER_ID.nextval as id from dual 
</span></span><span style="display:flex;"><span>  <span style="color:#000080">&lt;/selectKey&gt;</span> 
</span></span><span style="display:flex;"><span>  insert into user (id,name,password) values (#{id},#{name},#{password}) 
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;/insert&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>selectKeyÁõ∏ÂÖ≥Â±ûÊÄß</p>
<table>
<thead>
<tr>
<th>Â±ûÊÄß</th>
<th>ÊèèËø∞</th>
</tr>
</thead>
<tbody>
<tr>
<td>keyProperty</td>
<td>selectKey ËØ≠Âè•ÁªìÊûúÂ∫îËØ•Ë¢´ËÆæÁΩÆÁöÑÁõÆÊ†áÂ±ûÊÄß„ÄÇÂ¶ÇÊûúÂ∏åÊúõÂæóÂà∞Â§ö‰∏™ÁîüÊàêÁöÑÂàóÔºå‰πüÂèØ‰ª•ÊòØÈÄóÂè∑ÂàÜÈöîÁöÑÂ±ûÊÄßÂêçÁß∞ÂàóË°®</td>
</tr>
<tr>
<td>resultType</td>
<td>ÁªìÊûúÁöÑÁ±ªÂûã„ÄÇMyBatis ÈÄöÂ∏∏ÂèØ‰ª•Êé®ÁÆóÂá∫Êù•Ôºå‰ΩÜÊòØ‰∏∫‰∫ÜÊõ¥Âä†Á°ÆÂÆöÂÜô‰∏ä‰πü‰∏ç‰ºöÊúâ‰ªÄ‰πàÈóÆÈ¢ò„ÄÇ</td>
</tr>
<tr>
<td>order</td>
<td>ËøôÂèØ‰ª•Ë¢´ËÆæÁΩÆ‰∏∫ BEFORE Êàñ AFTER„ÄÇÂ¶ÇÊûúËÆæÁΩÆ‰∏∫ BEFOREÔºåÈÇ£‰πàÂÆÉ‰ºöÈ¶ñÂÖàÈÄâÊã©‰∏ªÈîÆÔºåËÆæÁΩÆ keyProperty ÁÑ∂ÂêéÊâßË°åÊèíÂÖ•ËØ≠Âè•„ÄÇÂ¶ÇÊûúËÆæÁΩÆ‰∏∫ AFTERÔºåÈÇ£‰πàÂÖàÊâßË°åÊèíÂÖ•ËØ≠Âè•ÔºåÁÑ∂ÂêéÊòØ selectKey ÂÖÉÁ¥† - ËøôÂíåÂÉè Oracle ÁöÑÊï∞ÊçÆÂ∫ìÁõ∏‰ººÔºåÂú®ÊèíÂÖ•ËØ≠Âè•ÂÜÖÈÉ®ÂèØËÉΩÊúâÂµåÂÖ•Á¥¢ÂºïË∞ÉÁî®</td>
</tr>
<tr>
<td>statementType</td>
<td>‰∏éÂâçÈù¢Áõ∏ÂêåÔºåMyBatis ÊîØÊåÅ STATEMENTÔºåPREPARED Âíå CALLABLE ËØ≠Âè•ÁöÑÊò†Â∞ÑÁ±ªÂûã</td>
</tr>
</tbody>
</table>
</li>
</ul>
<h3 id="sql">sql</h3>
<p>Ëøô‰∏™ÂÖÉÁ¥†ÂèØ‰ª•Ë¢´Áî®Êù•ÂÆö‰πâÂèØÈáçÁî®ÁöÑ SQL ‰ª£Á†ÅÊÆµÔºåÂèØ‰ª•ÂåÖÂê´Âú®ÂÖ∂‰ªñËØ≠Âè•‰∏≠„ÄÇÂÆÉÂèØ‰ª•Ë¢´ÈùôÊÄÅÂú∞(Âú®Âä†ËΩΩÂèÇÊï∞) ÂèÇÊï∞Âåñ. ‰∏çÂêåÁöÑÂ±ûÊÄßÂÄºÈÄöËøáÂåÖÂê´ÁöÑÂÆû‰æãÂèòÂåñ. ÊØîÂ¶ÇÔºö</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#000080">&lt;sql</span> <span style="color:#008080">id=</span><span style="color:#d14">&#34;sometable&#34;</span><span style="color:#000080">&gt;</span>
</span></span><span style="display:flex;"><span>  ${prefix}Table
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;/sql&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;sql</span> <span style="color:#008080">id=</span><span style="color:#d14">&#34;someinclude&#34;</span><span style="color:#000080">&gt;</span>
</span></span><span style="display:flex;"><span>  from <span style="color:#000080">&lt;include</span> <span style="color:#008080">refid=</span><span style="color:#d14">&#34;${include_target}&#34;</span><span style="color:#000080">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;/sql&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;select</span> <span style="color:#008080">id=</span><span style="color:#d14">&#34;select&#34;</span> <span style="color:#008080">resultType=</span><span style="color:#d14">&#34;map&#34;</span><span style="color:#000080">&gt;</span>
</span></span><span style="display:flex;"><span>  select field1, field2, field3
</span></span><span style="display:flex;"><span>  <span style="color:#000080">&lt;include</span> <span style="color:#008080">refid=</span><span style="color:#d14">&#34;someinclude&#34;</span><span style="color:#000080">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;property</span> <span style="color:#008080">name=</span><span style="color:#d14">&#34;prefix&#34;</span> <span style="color:#008080">value=</span><span style="color:#d14">&#34;Some&#34;</span><span style="color:#000080">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;property</span> <span style="color:#008080">name=</span><span style="color:#d14">&#34;include_target&#34;</span> <span style="color:#008080">value=</span><span style="color:#d14">&#34;sometable&#34;</span><span style="color:#000080">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000080">&lt;/include&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;/select&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="ÂèÇÊï∞">ÂèÇÊï∞</h3>
<p>‰ΩøÁî® <code>#{}</code> Ê†ºÂºèÁöÑËØ≠Ê≥ï‰ºöÂØºËá¥ MyBatis ÂàõÂª∫ <code>PreparedStatement</code> ÂèÇÊï∞Âπ∂ÂÆâÂÖ®Âú∞ËÆæÁΩÆÂèÇÊï∞Ôºà‰ΩøÁî® <code>?</code> Ôºâ„ÄÇ‰∏çËøáÊúâÊó∂ÈúÄË¶ÅÂú® SQL ËØ≠Âè•‰∏≠ÊèíÂÖ•‰∏Ä‰∏™‰∏çËΩ¨‰πâÁöÑÂ≠óÁ¨¶‰∏≤„ÄÇÊØîÂ¶Ç ORDER BY Â∞±ÈúÄË¶Å‰ΩøÁî®<code>${}</code></p>
<h3 id="ÁºìÂ≠ò">ÁºìÂ≠ò</h3>
<p>MybatisÈªòËÆ§ÊÉÖÂÜµ‰∏ãÊòØÊ≤°ÊúâÂºÄÂêØÁºìÂ≠òÁöÑ,Èô§‰∫ÜÂ±ÄÈÉ®ÁöÑ session ÁºìÂ≠ò,ÂèØ‰ª•Â¢ûÂº∫Â§ÑÁêÜÂæ™ÁéØ„ÄÇÂºÄÂêØ‰∫åÁ∫ßÁºìÂ≠òÈúÄË¶ÅÂä†ÂÖ•<code>cache</code>Ê†áÁ≠æ</p>
<p><code>cache</code>ÁöÑÊïàÊûúÂ¶Ç‰∏ã:</p>
<ul>
<li>Êò†Â∞ÑËØ≠Âè•Êñá‰ª∂‰∏≠ÁöÑÊâÄÊúâ select ËØ≠Âè•Â∞Ü‰ºöË¢´ÁºìÂ≠ò„ÄÇ</li>
<li>Êò†Â∞ÑËØ≠Âè•Êñá‰ª∂‰∏≠ÁöÑÊâÄÊúâ insert,update Âíå delete ËØ≠Âè•‰ºöÂà∑Êñ∞ÁºìÂ≠ò„ÄÇ</li>
<li>ÁºìÂ≠ò‰ºö‰ΩøÁî® Least Recently Used(LRU,ÊúÄËøëÊúÄÂ∞ë‰ΩøÁî®ÁöÑ)ÁÆóÊ≥ïÊù•Êî∂Âõû„ÄÇ</li>
<li>Ê†πÊçÆÊó∂Èó¥Ë°®(ÊØîÂ¶Ç no Flush Interval,Ê≤°ÊúâÂà∑Êñ∞Èó¥Èöî), ÁºìÂ≠ò‰∏ç‰ºö‰ª•‰ªª‰ΩïÊó∂Èó¥È°∫Â∫è Êù•Âà∑Êñ∞„ÄÇ</li>
<li>ÁºìÂ≠ò‰ºöÂ≠òÂÇ®ÂàóË°®ÈõÜÂêàÊàñÂØπË±°(Êó†ËÆ∫Êü•ËØ¢ÊñπÊ≥ïËøîÂõû‰ªÄ‰πà)ÁöÑ 1024 ‰∏™ÂºïÁî®„ÄÇ</li>
<li>ÁºìÂ≠ò‰ºöË¢´ËßÜ‰∏∫ÊòØ read/write(ÂèØËØª/ÂèØÂÜô)ÁöÑÁºìÂ≠ò,ÊÑèÂë≥ÁùÄÂØπË±°Ê£ÄÁ¥¢‰∏çÊòØÂÖ±‰∫´ÁöÑ,ËÄå ‰∏îÂèØ‰ª•ÂÆâÂÖ®Âú∞Ë¢´Ë∞ÉÁî®ËÄÖ‰øÆÊîπ,ËÄå‰∏çÂπ≤Êâ∞ÂÖ∂‰ªñË∞ÉÁî®ËÄÖÊàñÁ∫øÁ®ãÊâÄÂÅöÁöÑÊΩúÂú®‰øÆÊîπ„ÄÇ</li>
</ul>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#998;font-style:italic">&lt;!--eviction:ÂõûÊî∂Á≠ñÁï•ÔºåflushInterval:Âà∑Êñ∞Èó¥ÈöîÔºåÈªòËÆ§‰∏çËÆæÁΩÆÔºåsize:ÂºïÁî®Êï∞ÁõÆ,ÈªòËÆ§1024ÔºåreadOnlyÔºöËøîÂõûÂØπË±°ÊòØÂê¶Âè™ËØªÔºà‰øùËØÅÂÆâÂÖ®ÊÄßÔºâÔºåÈªòËÆ§false--&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;cache</span> <span style="color:#008080">eviction=</span><span style="color:#d14">&#34;FIFO&#34;</span> <span style="color:#008080">flushInterval=</span><span style="color:#d14">&#34;60000&#34;</span> <span style="color:#008080">size=</span><span style="color:#d14">&#34;512&#34;</span> <span style="color:#008080">readOnly=</span><span style="color:#d14">&#34;true&#34;</span><span style="color:#000080">/&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Êî∂ÂõûÁ≠ñÁï•Êúâ:</p>
<ul>
<li><code>LRU</code> ‚Äì ÊúÄËøëÊúÄÂ∞ë‰ΩøÁî®ÁöÑ:ÁßªÈô§ÊúÄÈïøÊó∂Èó¥‰∏çË¢´‰ΩøÁî®ÁöÑÂØπË±°„ÄÇ</li>
<li><code>FIFO</code> ‚Äì ÂÖàËøõÂÖàÂá∫:ÊåâÂØπË±°ËøõÂÖ•ÁºìÂ≠òÁöÑÈ°∫Â∫èÊù•ÁßªÈô§ÂÆÉ‰ª¨„ÄÇ</li>
<li><code>SOFT</code> ‚Äì ËΩØÂºïÁî®:ÁßªÈô§Âü∫‰∫éÂûÉÂúæÂõûÊî∂Âô®Áä∂ÊÄÅÂíåËΩØÂºïÁî®ËßÑÂàôÁöÑÂØπË±°„ÄÇ</li>
<li><code>WEAK</code> ‚Äì Âº±ÂºïÁî®:Êõ¥ÁßØÊûÅÂú∞ÁßªÈô§Âü∫‰∫éÂûÉÂúæÊî∂ÈõÜÂô®Áä∂ÊÄÅÂíåÂº±ÂºïÁî®ËßÑÂàôÁöÑÂØπË±°„ÄÇ</li>
</ul>
<p>‰ΩøÁî®<code>cache-ref</code>Ê†áÁ≠æË¥°ÁåÆÁºìÂ≠òÈÖçÁΩÆÂÆû‰æã</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#000080">&lt;cache-ref</span> <span style="color:#008080">namespace=</span><span style="color:#d14">&#34;com.someone.application.data.SomeMapper&#34;</span><span style="color:#000080">/&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="Á¨¨‰∏âÊñπÁºìÂ≠òÊ°ÜÊû∂ehcacheÁöÑ‰ΩøÁî®">Á¨¨‰∏âÊñπÁºìÂ≠òÊ°ÜÊû∂ehcacheÁöÑ‰ΩøÁî®</h3>
<p>Á¨¨‰∏ÄÊ≠•ÔºöÂºïÂÖ•maven‰æùËµñ</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#000080">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000080">&lt;groupId&gt;</span>org.ehcache<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000080">&lt;artifactId&gt;</span>ehcache<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000080">&lt;version&gt;</span>ÁâàÊú¨Âè∑<span style="color:#000080">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000080">&lt;groupId&gt;</span>org.mybatis.caches<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000080">&lt;artifactId&gt;</span>mybatis-ehcache<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000080">&lt;version&gt;</span>ÁâàÊú¨Âè∑<span style="color:#000080">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;/dependency&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Á¨¨‰∫åÊ≠•ÔºöÈÖçÁΩÆehcacheÈÖçÁΩÆÊñá‰ª∂</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#998;font-style:italic">&lt;!--nameÂæàÈáçË¶ÅÔºåÂøÖÈ°ªÂíåMapperÁöÑÂëΩÂêçÁ©∫Èó¥ÂØπÂ∫î--&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;cache</span> <span style="color:#008080">name=</span><span style="color:#d14">&#34;com.kun.xxx.PersonMapper&#34;</span> <span style="color:#008080">maxElementsInMemory=</span><span style="color:#d14">&#34;1024&#34;</span> <span style="color:#008080">external=</span><span style="color:#d14">&#34;false&#34;</span> <span style="color:#008080">timeToIdleSeconds=</span><span style="color:#d14">&#34;300&#34;</span> <span style="color:#008080">timeToLiveSeconds=</span><span style="color:#d14">&#34;600&#34;</span> <span style="color:#008080">overflowToDisk=</span><span style="color:#d14">&#34;true&#34;</span><span style="color:#000080">/&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Á¨¨‰∏âÊ≠•ÔºöÂú®mybatisÈÖçÁΩÆÊñá‰ª∂‰∏≠ÈÖçÁΩÆÂà´Âêç</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#000080">&lt;typeAlias</span> <span style="color:#008080">type=</span><span style="color:#d14">&#34;org.mybatis.caches.ehcache.EhcacheCache&#34;</span> <span style="color:#008080">alias=</span><span style="color:#d14">&#34;ehcache&#34;</span> <span style="color:#000080">/&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Á¨¨ÂõõÊ≠•ÔºöÂú®ÈúÄË¶ÅÂºïÁî®ÁºìÂ≠òÁöÑMapperÊñá‰ª∂‰∏≠ÂºïÁî®</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#000080">&lt;cache</span> <span style="color:#008080">type=</span><span style="color:#d14">&#34;ehcache&#34;</span><span style="color:#000080">/&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="‰∫îÁªìÊûúÈõÜ">‰∫î„ÄÅÁªìÊûúÈõÜ</h2>
<p>resultMapÂ≠êÂÖÉÁ¥†</p>
<ul>
<li>constructor - Áî®‰∫éÂú®ÂÆû‰æãÂåñÁ±ªÊó∂ÔºåÊ≥®ÂÖ•ÁªìÊûúÂà∞ÊûÑÈÄ†ÊñπÊ≥ï‰∏≠
<ul>
<li>idArg- ID ÂèÇÊï∞;Ê†áËÆ∞Âá∫‰Ωú‰∏∫ ID ÁöÑÁªìÊûúÂèØ‰ª•Â∏ÆÂä©ÊèêÈ´òÊï¥‰ΩìÊÄßËÉΩ</li>
<li>arg - Â∞ÜË¢´Ê≥®ÂÖ•Âà∞ÊûÑÈÄ†ÊñπÊ≥ïÁöÑ‰∏Ä‰∏™ÊôÆÈÄöÁªìÊûú</li>
</ul>
</li>
<li>id ‚Äì Ê†áËÆ∞Âá∫‰Ωú‰∏∫ ID ÁöÑÁªìÊûúÂèØ‰ª•Â∏ÆÂä©ÊèêÈ´òÊï¥‰ΩìÊÄßËÉΩ</li>
<li>result ‚Äì Ê≥®ÂÖ•Âà∞Â≠óÊÆµÊàñ JavaBean Â±ûÊÄßÁöÑÊôÆÈÄöÁªìÊûú</li>
<li>association ‚Äì ‰∏Ä‰∏™Â§çÊùÇÁ±ªÂûãÁöÑÂÖ≥ËÅî;ËÆ∏Â§öÁªìÊûúÂ∞ÜÂåÖË£ÖÊàêËøôÁßçÁ±ªÂûã</li>
<li>collection ‚Äì ‰∏Ä‰∏™Â§çÊùÇÁ±ªÂûãÁöÑÈõÜÂêà</li>
<li>discriminator ‚Äì ‰ΩøÁî®ÁªìÊûúÂÄºÊù•ÂÜ≥ÂÆö‰ΩøÁî®Âì™‰∏™
<ul>
<li>case ‚Äì Âü∫‰∫éÊüê‰∫õÂÄºÁöÑÁªìÊûúÊò†Â∞Ñ</li>
</ul>
</li>
</ul>
<p>‰ΩøÁî®<code>constructor</code>Â≠êÊ†áÁ≠æ ÔºåÊ≥®ÊÑèÂ§ö‰∏™ÂèÇÊï∞ÔºåÈúÄË¶ÅÂú®POJOÁ±ªÊûÑÈÄ†ÂáΩÊï∞‰∏ä‰ΩøÁî®@ParamÊåáÂÆöÂêçÁß∞</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#000080">&lt;resultMap</span> <span style="color:#008080">type=</span><span style="color:#d14">&#34;com.kun.start.model.Person&#34;</span> <span style="color:#008080">id=</span><span style="color:#d14">&#34;person&#34;</span><span style="color:#000080">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000080">&lt;constructor&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;idArg</span> <span style="color:#008080">column=</span><span style="color:#d14">&#34;id&#34;</span> <span style="color:#008080">name=</span><span style="color:#d14">&#34;id&#34;</span><span style="color:#000080">/&gt;</span>	<span style="color:#998;font-style:italic">&lt;!--ÊåáÂÆö‰∏ªÈîÆÊèêÈ´òÊïàÁéá--&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;arg</span> <span style="color:#008080">column=</span><span style="color:#d14">&#34;name&#34;</span> <span style="color:#008080">name=</span><span style="color:#d14">&#34;name&#34;</span><span style="color:#000080">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000080">&lt;/constructor&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;/resultMap&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>‰ΩøÁî®<code>association </code>Â≠êÊ†áÁ≠æÔºåËøõË°åÂ§öÂØπ‰∏ÄÊàñËÄÖ‰∏ÄÂØπ‰∏Ä<code>ÂÖ≥ËÅîÊü•ËØ¢</code>ÔºåÁõ¥Êé•Êò†Â∞ÑÁªìÊûÑ</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#000080">&lt;association</span> <span style="color:#008080">property=</span><span style="color:#d14">&#34;author&#34;</span> <span style="color:#008080">column=</span><span style="color:#d14">&#34;blog_author_id&#34;</span> <span style="color:#008080">javaType=</span><span style="color:#d14">&#34;Author&#34;</span><span style="color:#000080">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000080">&lt;id</span> <span style="color:#008080">property=</span><span style="color:#d14">&#34;id&#34;</span> <span style="color:#008080">column=</span><span style="color:#d14">&#34;author_id&#34;</span><span style="color:#000080">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000080">&lt;result</span> <span style="color:#008080">property=</span><span style="color:#d14">&#34;username&#34;</span> <span style="color:#008080">column=</span><span style="color:#d14">&#34;author_username&#34;</span><span style="color:#000080">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;/association&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>‰ΩøÁî®<code>association </code>Â≠êÊ†áÁ≠æÔºåËøõË°åÂ§öÂØπ‰∏ÄÊàñËÄÖ‰∏ÄÂØπ‰∏Ä<code>ÂÖ≥ËÅîÁöÑÂµåÂ•óÊü•ËØ¢</code>ÔºåËøôÁßçÂÜôÊ≥ïÂèØËÉΩÂºïËµ∑‚ÄúN+1‚ÄùÈóÆÈ¢òÔºåÂèØ‰ª•‰ΩøÁî®ÊáíÂä†ËΩΩÊàñ<code>ÂÖ≥ËÅîÁöÑÂµåÂ•óÁªìÊûúÊü•ËØ¢</code></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#998;font-style:italic">&lt;!--Êü•ËØ¢ÂçöÂÆ¢ÁöÑ‰ΩúËÄÖ--&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;resultMap</span> <span style="color:#008080">id=</span><span style="color:#d14">&#34;blogResult&#34;</span> <span style="color:#008080">type=</span><span style="color:#d14">&#34;Blog&#34;</span><span style="color:#000080">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000080">&lt;association</span> <span style="color:#008080">property=</span><span style="color:#d14">&#34;author&#34;</span> <span style="color:#008080">column=</span><span style="color:#d14">&#34;author_id&#34;</span> <span style="color:#008080">javaType=</span><span style="color:#d14">&#34;Author&#34;</span> <span style="color:#008080">select=</span><span style="color:#d14">&#34;selectAuthor&#34;</span><span style="color:#000080">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;/resultMap&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>‰ΩøÁî®<code>association </code>Â≠êÊ†áÁ≠æÔºåËøõË°åÂ§öÂØπ‰∏ÄÊàñËÄÖ‰∏ÄÂØπ‰∏Ä<code>ÂÖ≥ËÅîÁöÑÂµåÂ•óÁªìÊûúÊü•ËØ¢</code>ÔºåÈÅøÂÖç‰∫Ü‚ÄúN+1&quot;ÈóÆÈ¢ò</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#998;font-style:italic">&lt;!--Êü•ËØ¢ÂçöÂÆ¢ÁöÑ‰ΩúËÄÖ--&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;resultMap</span> <span style="color:#008080">id=</span><span style="color:#d14">&#34;blogResult&#34;</span> <span style="color:#008080">type=</span><span style="color:#d14">&#34;Blog&#34;</span><span style="color:#000080">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000080">&lt;id</span> <span style="color:#008080">property=</span><span style="color:#d14">&#34;id&#34;</span> <span style="color:#008080">column=</span><span style="color:#d14">&#34;blog_id&#34;</span> <span style="color:#000080">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000080">&lt;result</span> <span style="color:#008080">property=</span><span style="color:#d14">&#34;title&#34;</span> <span style="color:#008080">column=</span><span style="color:#d14">&#34;blog_title&#34;</span><span style="color:#000080">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000080">&lt;association</span> <span style="color:#008080">property=</span><span style="color:#d14">&#34;author&#34;</span> <span style="color:#008080">column=</span><span style="color:#d14">&#34;blog_author_id&#34;</span> <span style="color:#008080">javaType=</span><span style="color:#d14">&#34;Author&#34;</span> <span style="color:#008080">resultMap=</span><span style="color:#d14">&#34;authorResult&#34;</span><span style="color:#000080">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;/resultMap&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;resultMap</span> <span style="color:#008080">id=</span><span style="color:#d14">&#34;authorResult&#34;</span> <span style="color:#008080">type=</span><span style="color:#d14">&#34;Author&#34;</span><span style="color:#000080">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000080">&lt;id</span> <span style="color:#008080">property=</span><span style="color:#d14">&#34;id&#34;</span> <span style="color:#008080">column=</span><span style="color:#d14">&#34;author_id&#34;</span><span style="color:#000080">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000080">&lt;result</span> <span style="color:#008080">property=</span><span style="color:#d14">&#34;username&#34;</span> <span style="color:#008080">column=</span><span style="color:#d14">&#34;author_username&#34;</span><span style="color:#000080">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000080">&lt;result</span> <span style="color:#008080">property=</span><span style="color:#d14">&#34;password&#34;</span> <span style="color:#008080">column=</span><span style="color:#d14">&#34;author_password&#34;</span><span style="color:#000080">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000080">&lt;result</span> <span style="color:#008080">property=</span><span style="color:#d14">&#34;email&#34;</span> <span style="color:#008080">column=</span><span style="color:#d14">&#34;author_email&#34;</span><span style="color:#000080">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000080">&lt;result</span> <span style="color:#008080">property=</span><span style="color:#d14">&#34;bio&#34;</span> <span style="color:#008080">column=</span><span style="color:#d14">&#34;author_bio&#34;</span><span style="color:#000080">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;/resultMap&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;select</span> <span style="color:#008080">id=</span><span style="color:#d14">&#34;selectBlog&#34;</span> <span style="color:#008080">resultMap=</span><span style="color:#d14">&#34;blogResult&#34;</span><span style="color:#000080">&gt;</span>
</span></span><span style="display:flex;"><span>  select
</span></span><span style="display:flex;"><span>  B.id            as blog_id,
</span></span><span style="display:flex;"><span>  B.title         as blog_title,
</span></span><span style="display:flex;"><span>  B.author_id     as blog_author_id,
</span></span><span style="display:flex;"><span>  A.id            as author_id,
</span></span><span style="display:flex;"><span>  A.username      as author_username,
</span></span><span style="display:flex;"><span>  A.password      as author_password,
</span></span><span style="display:flex;"><span>  A.email         as author_email,
</span></span><span style="display:flex;"><span>  A.bio           as author_bio
</span></span><span style="display:flex;"><span>  from Blog B left outer join Author A on B.author_id = A.id
</span></span><span style="display:flex;"><span>  where B.id = #{id}
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;/select&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>‰ΩøÁî®<code>collection</code>Â≠êÊ†áÁ≠æÔºåËøõË°å<code>ÈõÜÂêàÁöÑÂµåÂ•óÊü•ËØ¢</code>ÔºåÊ≥®ÊÑè<span style="color:yellow">ofType</span>ÊåáÁöÑÊòØÂÖÉÁ¥†Á±ªÂûãÔºåjavaTypeËÉΩÊé®ÊµãÂá∫Êù•ÂèØ‰ª•‰∏çÂÜô</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#998;font-style:italic">&lt;!--Êü•ËØ¢ÂçöÂÆ¢‰∏ãÊúâÂ§öÂ∞ëÊñáÁ´†--&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;resultMap</span> <span style="color:#008080">id=</span><span style="color:#d14">&#34;blogResult&#34;</span> <span style="color:#008080">type=</span><span style="color:#d14">&#34;Blog&#34;</span><span style="color:#000080">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000080">&lt;collection</span> <span style="color:#008080">property=</span><span style="color:#d14">&#34;posts&#34;</span> <span style="color:#008080">column=</span><span style="color:#d14">&#34;id&#34;</span> <span style="color:#008080">ofType=</span><span style="color:#d14">&#34;Post&#34;</span> <span style="color:#008080">select=</span><span style="color:#d14">&#34;selectPostsForBlog&#34;</span><span style="color:#000080">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;/resultMap&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;select</span> <span style="color:#008080">id=</span><span style="color:#d14">&#34;selectBlog&#34;</span> <span style="color:#008080">resultMap=</span><span style="color:#d14">&#34;blogResult&#34;</span><span style="color:#000080">&gt;</span>
</span></span><span style="display:flex;"><span>  SELECT * FROM BLOG WHERE ID = #{id}
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;/select&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;select</span> <span style="color:#008080">id=</span><span style="color:#d14">&#34;selectPostsForBlog&#34;</span> <span style="color:#008080">resultType=</span><span style="color:#d14">&#34;Post&#34;</span><span style="color:#000080">&gt;</span>
</span></span><span style="display:flex;"><span>  SELECT * FROM POST WHERE BLOG_ID = #{id}
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;/select&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>‰ΩøÁî®<code>collection</code>Â≠êÊ†áÁ≠æÔºåËøõË°å<code>ÈõÜÂêàÁöÑÂµåÂ•óÁªìÊûúÊü•ËØ¢</code>ÔºåÈÅøÂÖçÂ§öÊ¨°ÂèëÈÄÅSQLÔºåÊèêÈ´òÊïàÁéá</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#000080">&lt;resultMap</span> <span style="color:#008080">id=</span><span style="color:#d14">&#34;blogResult&#34;</span> <span style="color:#008080">type=</span><span style="color:#d14">&#34;Blog&#34;</span><span style="color:#000080">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000080">&lt;id</span> <span style="color:#008080">property=</span><span style="color:#d14">&#34;id&#34;</span> <span style="color:#008080">column=</span><span style="color:#d14">&#34;blog_id&#34;</span> <span style="color:#000080">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000080">&lt;result</span> <span style="color:#008080">property=</span><span style="color:#d14">&#34;title&#34;</span> <span style="color:#008080">column=</span><span style="color:#d14">&#34;blog_title&#34;</span><span style="color:#000080">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000080">&lt;collection</span> <span style="color:#008080">property=</span><span style="color:#d14">&#34;posts&#34;</span> <span style="color:#008080">ofType=</span><span style="color:#d14">&#34;Post&#34;</span><span style="color:#000080">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;id</span> <span style="color:#008080">property=</span><span style="color:#d14">&#34;id&#34;</span> <span style="color:#008080">column=</span><span style="color:#d14">&#34;post_id&#34;</span><span style="color:#000080">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;result</span> <span style="color:#008080">property=</span><span style="color:#d14">&#34;subject&#34;</span> <span style="color:#008080">column=</span><span style="color:#d14">&#34;post_subject&#34;</span><span style="color:#000080">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;result</span> <span style="color:#008080">property=</span><span style="color:#d14">&#34;body&#34;</span> <span style="color:#008080">column=</span><span style="color:#d14">&#34;post_body&#34;</span><span style="color:#000080">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000080">&lt;/collection&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;/resultMap&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;select</span> <span style="color:#008080">id=</span><span style="color:#d14">&#34;selectBlog&#34;</span> <span style="color:#008080">resultMap=</span><span style="color:#d14">&#34;blogResult&#34;</span><span style="color:#000080">&gt;</span>
</span></span><span style="display:flex;"><span>  select
</span></span><span style="display:flex;"><span>  B.id as blog_id,
</span></span><span style="display:flex;"><span>  B.title as blog_title,
</span></span><span style="display:flex;"><span>  B.author_id as blog_author_id,
</span></span><span style="display:flex;"><span>  P.id as post_id,
</span></span><span style="display:flex;"><span>  P.subject as post_subject,
</span></span><span style="display:flex;"><span>  P.body as post_body,
</span></span><span style="display:flex;"><span>  from Blog B
</span></span><span style="display:flex;"><span>  left outer join Post P on B.id = P.blog_id
</span></span><span style="display:flex;"><span>  where B.id = #{id}
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;/select&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>‰ΩøÁî®<code>discriminator </code>Â≠êÊ†áÁ≠æÂÆåÊàêÈâ¥Âà´Âô®Â∑•‰ΩúÔºåÁõ∏ÂΩì‰∫éjava‰∏≠ÁöÑswitchËØ≠Âè•„ÄÇ‰∏ÄËà¨Áî®‰∫éÂêåË°®ÊèèËø∞ÁªßÊâøÂÖ≥Á≥ªÔºà‰∏çÂª∫ËÆÆ‰ΩøÁî®Ôºâ</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#998;font-style:italic">&lt;!--Ê†πÊçÆÈâ¥Âà´Â≠óÊÆµÁöÑÂÄºËá™Âä®Êò†Â∞ÑÊàêÂØπÂ∫îÁöÑÂ≠êÁ±ª--&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;resultMap</span> <span style="color:#008080">id=</span><span style="color:#d14">&#34;vehicleResult&#34;</span> <span style="color:#008080">type=</span><span style="color:#d14">&#34;Vehicle&#34;</span><span style="color:#000080">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000080">&lt;id</span> <span style="color:#008080">property=</span><span style="color:#d14">&#34;id&#34;</span> <span style="color:#008080">column=</span><span style="color:#d14">&#34;id&#34;</span> <span style="color:#000080">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000080">&lt;result</span> <span style="color:#008080">property=</span><span style="color:#d14">&#34;vin&#34;</span> <span style="color:#008080">column=</span><span style="color:#d14">&#34;vin&#34;</span><span style="color:#000080">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000080">&lt;result</span> <span style="color:#008080">property=</span><span style="color:#d14">&#34;year&#34;</span> <span style="color:#008080">column=</span><span style="color:#d14">&#34;year&#34;</span><span style="color:#000080">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000080">&lt;result</span> <span style="color:#008080">property=</span><span style="color:#d14">&#34;make&#34;</span> <span style="color:#008080">column=</span><span style="color:#d14">&#34;make&#34;</span><span style="color:#000080">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000080">&lt;result</span> <span style="color:#008080">property=</span><span style="color:#d14">&#34;model&#34;</span> <span style="color:#008080">column=</span><span style="color:#d14">&#34;model&#34;</span><span style="color:#000080">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000080">&lt;result</span> <span style="color:#008080">property=</span><span style="color:#d14">&#34;color&#34;</span> <span style="color:#008080">column=</span><span style="color:#d14">&#34;color&#34;</span><span style="color:#000080">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#998;font-style:italic">&lt;!-- javaType:ËøîÂõûÁöÑÂÄºÁ±ªÂûãÔºàÁî®‰∫éÊØîËæÉÁöÑÂàóÔºâ--&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000080">&lt;discriminator</span> <span style="color:#008080">javaType=</span><span style="color:#d14">&#34;int&#34;</span> <span style="color:#008080">column=</span><span style="color:#d14">&#34;vehicle_type&#34;</span><span style="color:#000080">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">&lt;!-- resultType:ÂØπÂ∫îÂì™‰∏™Â≠êÁ±ªÁªìÊûúÈõÜÔºåresultÂ≠êÊ†áÁ≠æÔºöÂ≠êÁ±ªÁâπÊúâÂ±ûÊÄß --&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;case</span> <span style="color:#008080">value=</span><span style="color:#d14">&#34;1&#34;</span> <span style="color:#008080">resultType=</span><span style="color:#d14">&#34;carResult&#34;</span><span style="color:#000080">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#000080">&lt;result</span> <span style="color:#008080">property=</span><span style="color:#d14">&#34;doorCount&#34;</span> <span style="color:#008080">column=</span><span style="color:#d14">&#34;door_count&#34;</span> <span style="color:#000080">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;/case&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;case</span> <span style="color:#008080">value=</span><span style="color:#d14">&#34;2&#34;</span> <span style="color:#008080">resultType=</span><span style="color:#d14">&#34;truckResult&#34;</span><span style="color:#000080">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#000080">&lt;result</span> <span style="color:#008080">property=</span><span style="color:#d14">&#34;boxSize&#34;</span> <span style="color:#008080">column=</span><span style="color:#d14">&#34;box_size&#34;</span> <span style="color:#000080">/&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#000080">&lt;result</span> <span style="color:#008080">property=</span><span style="color:#d14">&#34;extendedCab&#34;</span> <span style="color:#008080">column=</span><span style="color:#d14">&#34;extended_cab&#34;</span> <span style="color:#000080">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;/case&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;case</span> <span style="color:#008080">value=</span><span style="color:#d14">&#34;3&#34;</span> <span style="color:#008080">resultType=</span><span style="color:#d14">&#34;vanResult&#34;</span><span style="color:#000080">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#000080">&lt;result</span> <span style="color:#008080">property=</span><span style="color:#d14">&#34;powerSlidingDoor&#34;</span> <span style="color:#008080">column=</span><span style="color:#d14">&#34;power_sliding_door&#34;</span> <span style="color:#000080">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;/case&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;case</span> <span style="color:#008080">value=</span><span style="color:#d14">&#34;4&#34;</span> <span style="color:#008080">resultType=</span><span style="color:#d14">&#34;suvResult&#34;</span><span style="color:#000080">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#000080">&lt;result</span> <span style="color:#008080">property=</span><span style="color:#d14">&#34;allWheelDrive&#34;</span> <span style="color:#008080">column=</span><span style="color:#d14">&#34;all_wheel_drive&#34;</span> <span style="color:#000080">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;/case&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000080">&lt;/discriminator&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;/resultMap&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="ÂÖ≠Âä®ÊÄÅ-sql">ÂÖ≠„ÄÅÂä®ÊÄÅ SQL</h2>
<h3 id="ifÁî®‰∫éÊù°‰ª∂Âà§Êñ≠">ifÔºåÁî®‰∫éÊù°‰ª∂Âà§Êñ≠</h3>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#000080">&lt;select</span> <span style="color:#008080">id=</span><span style="color:#d14">&#34;findActiveBlogWithTitleLike&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008080">resultType=</span><span style="color:#d14">&#34;Blog&#34;</span><span style="color:#000080">&gt;</span>
</span></span><span style="display:flex;"><span>  SELECT * FROM BLOG 
</span></span><span style="display:flex;"><span>  WHERE state = ‚ÄòACTIVE‚Äô 
</span></span><span style="display:flex;"><span>  <span style="color:#000080">&lt;if</span> <span style="color:#008080">test=</span><span style="color:#d14">&#34;title != null&#34;</span><span style="color:#000080">&gt;</span>
</span></span><span style="display:flex;"><span>    AND title like #{title}
</span></span><span style="display:flex;"><span>  <span style="color:#000080">&lt;/if&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;/select&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="choose-choose-when-choose-otherwise">choose, choose-when, choose-otherwise</h3>
<p>ÊúâÊó∂Êàë‰ª¨‰∏çÊÉ≥Â∫îÁî®Âà∞ÊâÄÊúâÁöÑÊù°‰ª∂ËØ≠Âè•ÔºåËÄåÂè™ÊÉ≥‰ªé‰∏≠Êã©ÂÖ∂‰∏ÄÈ°π„ÄÇÈíàÂØπËøôÁßçÊÉÖÂÜµÔºåMyBatis Êèê‰æõ‰∫Ü choose ÂÖÉÁ¥†ÔºåÂÆÉÊúâÁÇπÂÉè Java ‰∏≠ÁöÑ switch ËØ≠Âè•</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#000080">&lt;select</span> <span style="color:#008080">id=</span><span style="color:#d14">&#34;findActiveBlogLike&#34;</span> <span style="color:#008080">resultType=</span><span style="color:#d14">&#34;Blog&#34;</span><span style="color:#000080">&gt;</span>
</span></span><span style="display:flex;"><span>  SELECT * FROM BLOG WHERE state = ‚ÄòACTIVE‚Äô
</span></span><span style="display:flex;"><span>  <span style="color:#000080">&lt;choose&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;when</span> <span style="color:#008080">test=</span><span style="color:#d14">&#34;title != null&#34;</span><span style="color:#000080">&gt;</span>
</span></span><span style="display:flex;"><span>      AND title like #{title}
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;/when&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;when</span> <span style="color:#008080">test=</span><span style="color:#d14">&#34;author != null and author.name != null&#34;</span><span style="color:#000080">&gt;</span>
</span></span><span style="display:flex;"><span>      AND author_name like #{author.name}
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;/when&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;otherwise&gt;</span>
</span></span><span style="display:flex;"><span>      AND featured = 1
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;/otherwise&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000080">&lt;/choose&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;/select&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="trim-where-set">trim, where, set</h3>
<p>Áî®‰∫éËß£ÂÜ≥<strong>where</strong>ÂêéË∑üÊó†ÊÑè‰πâÊù°‰ª∂‰æãÂ¶Ç<code>where 1=1</code>ÈóÆÈ¢ò</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#000080">&lt;select</span> <span style="color:#008080">id=</span><span style="color:#d14">&#34;findActiveBlogLike&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#008080">resultType=</span><span style="color:#d14">&#34;Blog&#34;</span><span style="color:#000080">&gt;</span>
</span></span><span style="display:flex;"><span>  SELECT * FROM BLOG 
</span></span><span style="display:flex;"><span>  <span style="color:#000080">&lt;where&gt;</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;if</span> <span style="color:#008080">test=</span><span style="color:#d14">&#34;state != null&#34;</span><span style="color:#000080">&gt;</span>
</span></span><span style="display:flex;"><span>      state = #{state}
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;/if&gt;</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;if</span> <span style="color:#008080">test=</span><span style="color:#d14">&#34;title != null&#34;</span><span style="color:#000080">&gt;</span>
</span></span><span style="display:flex;"><span>      AND title like #{title}
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;/if&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;if</span> <span style="color:#008080">test=</span><span style="color:#d14">&#34;author != null and author.name != null&#34;</span><span style="color:#000080">&gt;</span>
</span></span><span style="display:flex;"><span>      AND author_name like #{author.name}
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;/if&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000080">&lt;/where&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;/select&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p><strong>where</strong> ÂÖÉÁ¥†Âè™‰ºöÂú®Ëá≥Â∞ëÊúâ‰∏Ä‰∏™Â≠êÂÖÉÁ¥†ÁöÑÊù°‰ª∂ËøîÂõû SQL Â≠êÂè•ÁöÑÊÉÖÂÜµ‰∏ãÊâçÂéªÊèíÂÖ•‚ÄúWHERE‚ÄùÂ≠êÂè•„ÄÇËÄå‰∏îÔºåËã•ËØ≠Âè•ÁöÑÂºÄÂ§¥‰∏∫‚ÄúAND‚ÄùÊàñ‚ÄúOR‚ÄùÔºå<strong>where</strong> ÂÖÉÁ¥†‰πü‰ºöÂ∞ÜÂÆÉ‰ª¨ÂéªÈô§</p>
</blockquote>
<p>Á±ª‰ºº‰∫é<strong>where</strong>Ëß£ÂÜ≥selectËØ≠Âè•ÈóÆÈ¢òÔºå<strong>set</strong>Ëß£ÂÜ≥updateËØ≠Âè•ÈóÆÈ¢ò</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#000080">&lt;update</span> <span style="color:#008080">id=</span><span style="color:#d14">&#34;updateAuthorIfNecessary&#34;</span><span style="color:#000080">&gt;</span>
</span></span><span style="display:flex;"><span>  update Author
</span></span><span style="display:flex;"><span>  <span style="color:#000080">&lt;set&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;if</span> <span style="color:#008080">test=</span><span style="color:#d14">&#34;username != null&#34;</span><span style="color:#000080">&gt;</span>username=#{username},<span style="color:#000080">&lt;/if&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;if</span> <span style="color:#008080">test=</span><span style="color:#d14">&#34;password != null&#34;</span><span style="color:#000080">&gt;</span>password=#{password},<span style="color:#000080">&lt;/if&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;if</span> <span style="color:#008080">test=</span><span style="color:#d14">&#34;email != null&#34;</span><span style="color:#000080">&gt;</span>email=#{email},<span style="color:#000080">&lt;/if&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000080">&lt;if</span> <span style="color:#008080">test=</span><span style="color:#d14">&#34;bio != null&#34;</span><span style="color:#000080">&gt;</span>bio=#{bio}<span style="color:#000080">&lt;/if&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000080">&lt;/set&gt;</span>
</span></span><span style="display:flex;"><span>  where id=#{id}
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;/update&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>ËøôÈáåÔºå<strong>set</strong>ÂÖÉÁ¥†‰ºöÂä®ÊÄÅÂâçÁΩÆ SET ÂÖ≥ÈîÆÂ≠óÔºåÂêåÊó∂‰πü‰ºöÂà†ÊéâÊó†ÂÖ≥ÁöÑÈÄóÂè∑ÔºåÂõ†‰∏∫Áî®‰∫ÜÊù°‰ª∂ËØ≠Âè•‰πãÂêéÂæàÂèØËÉΩÂ∞±‰ºöÂú®ÁîüÊàêÁöÑ SQL ËØ≠Âè•ÁöÑÂêéÈù¢Áïô‰∏ãËøô‰∫õÈÄóÂè∑</p>
</blockquote>
<p>whereÂíåsetÂ∫ïÂ±ÇÈÉΩÊòØ‰ΩøÁî®trim„ÄÇprefix/suffix-Âä†ÂÖ•ÁöÑÂâçÔºàÂêéÔºâÁºÄÔºåprefixOverrides/suffixOverrides-ÂâçÂêéË¶ÜÁõñÁöÑÂ≠óÁ¨¶</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#998;font-style:italic">&lt;!--Áõ∏ÂΩì‰∫ésetÊ†áÁ≠æ--&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;trim</span> <span style="color:#008080">prefix=</span><span style="color:#d14">&#34;set&#34;</span> <span style="color:#008080">prefixOverrides=</span><span style="color:#d14">&#34;,&#34;</span> <span style="color:#008080">suffixOverrides=</span><span style="color:#d14">&#34;,&#34;</span><span style="color:#000080">&gt;</span>
</span></span><span style="display:flex;"><span>  ...		
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;/trim&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">&lt;!--Áõ∏ÂΩì‰∫éwhereÊ†áÁ≠æ--&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;trim</span> <span style="color:#008080">prefix=</span><span style="color:#d14">&#34;where&#34;</span> <span style="color:#008080">prefixOverrides=</span><span style="color:#d14">&#34;and|or&#34;</span>  <span style="color:#008080">suffixOverrides=</span><span style="color:#d14">&#34;,&#34;</span><span style="color:#000080">&gt;</span>
</span></span><span style="display:flex;"><span>  ...		
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;/trim&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="foreach">foreach</h3>
<p>Âä®ÊÄÅ SQL ÁöÑÂè¶Â§ñ‰∏Ä‰∏™Â∏∏Áî®ÁöÑÊìç‰ΩúÈúÄÊ±ÇÊòØÂØπ‰∏Ä‰∏™ÈõÜÂêàËøõË°åÈÅçÂéÜÔºåÈÄöÂ∏∏ÊòØÂú®ÊûÑÂª∫ IN Êù°‰ª∂ËØ≠Âè•ÁöÑÊó∂ÂÄô„ÄÇÊØîÂ¶ÇÔºö</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#000080">&lt;select</span> <span style="color:#008080">id=</span><span style="color:#d14">&#34;selectPersonIn&#34;</span> <span style="color:#008080">resultType=</span><span style="color:#d14">&#34;com.kun.Person&#34;</span><span style="color:#000080">&gt;</span>
</span></span><span style="display:flex;"><span>  SELECT * FROM Person WHERE ID in
</span></span><span style="display:flex;"><span>  <span style="color:#000080">&lt;foreach</span> <span style="color:#008080">item=</span><span style="color:#d14">&#34;item&#34;</span> <span style="color:#008080">index=</span><span style="color:#d14">&#34;index&#34;</span> <span style="color:#008080">collection=</span><span style="color:#d14">&#34;ids&#34;</span> <span style="color:#008080">open=</span><span style="color:#d14">&#34;(&#34;</span> <span style="color:#008080">separator=</span><span style="color:#d14">&#34;,&#34;</span> <span style="color:#008080">close=</span><span style="color:#d14">&#34;)&#34;</span><span style="color:#000080">&gt;</span>
</span></span><span style="display:flex;"><span>    #{item}
</span></span><span style="display:flex;"><span>  <span style="color:#000080">&lt;/foreach&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;/select&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>item-ÂèòÈáèÈõÜÂêàÂéªÈô§ÁöÑÂÖÉÁ¥†Ôºåindex-ÂÖÉÁ¥†ÁöÑÁ¥¢ÂºïÔºåcollection-ÈõÜÂêàÂèÇÊï∞ÂêçÁß∞„ÄÇ</p>
<p>ÈõÜÂêàÁ±ªÂûãÂèØ‰ª•ÊòØlist„ÄÅset„ÄÅmapÁöÑkey„ÄÅmapÁöÑvalue„ÄÇ„Äêindex ‰Ωú‰∏∫map ÁöÑkey„ÄÇitem‰∏∫mapÁöÑÂÄº„ÄëÔºå‰æãÂ¶ÇÔºö</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#000080">&lt;foreach</span> <span style="color:#008080">collection=</span><span style="color:#d14">&#34;ent&#34;</span>  <span style="color:#008080">item=</span><span style="color:#d14">&#34;id&#34;</span> <span style="color:#008080">separator=</span><span style="color:#d14">&#34;,&#34;</span> <span style="color:#008080">open=</span><span style="color:#d14">&#34;(&#34;</span> <span style="color:#008080">close=</span><span style="color:#d14">&#34;)&#34;</span><span style="color:#000080">&gt;</span>
</span></span><span style="display:flex;"><span>  #{id}
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;/foreach&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="bind">bind</h3>
<p>ÂèØ‰ª•Â∞ÜOGNLË°®ËææÂºèÁöÑÂÄºÁªëÂÆöÂà∞‰∏Ä‰∏™ÂèòÈáè‰∏≠ÔºåÊñπ‰æøÂêéÊù•ÂºïÁî®Ëøô‰∏™ÂèòÈáèÁöÑÂÄº„ÄÇ</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#000080">&lt;select</span> <span style="color:#008080">id=</span><span style="color:#d14">&#34;getEmps&#34;</span> <span style="color:#008080">resultType=</span><span style="color:#d14">&#34;com.hand.mybatis.bean.Employee&#34;</span><span style="color:#000080">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000080">&lt;bind</span> <span style="color:#008080">name=</span><span style="color:#d14">&#34;bindeName&#34;</span> <span style="color:#008080">value=</span><span style="color:#d14">&#34;&#39;%&#39;+eName+&#39;%&#39;&#34;</span><span style="color:#000080">/&gt;</span> <span style="color:#998;font-style:italic">&lt;!--eNameÊòØemployee‰∏≠‰∏Ä‰∏™Â±ûÊÄßÂÄº--&gt;</span>
</span></span><span style="display:flex;"><span>  SELECT * FROM emp 
</span></span><span style="display:flex;"><span>  <span style="color:#000080">&lt;if</span> <span style="color:#008080">test=</span><span style="color:#d14">&#34;_parameter!=null&#34;</span><span style="color:#000080">&gt;</span>
</span></span><span style="display:flex;"><span>    where ename like #{bindeName}
</span></span><span style="display:flex;"><span>  <span style="color:#000080">&lt;/if&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;/select&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div>
    </div>

    

    <div class="container-comment-giscus">
        <script src="https://giscus.app/client.js"
        data-repo="loveminimal/comment"
        data-repo-id="R_kgDOJNJQ8g"
        data-category="General"
        data-category-id="DIC_kwDOJNJQ8s4CYl0m"
        data-mapping="title"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="bottom"
        data-theme="noborder_light"
        data-lang="zh-CN"
        data-loading="lazy"
        crossorigin="anonymous"
        async>
        </script>
</div>
</div>

        </div>
        <div id="footer"><div class="container-footer">
    

    <div class="beian">
        
        <a target="_blank" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=41092802000242">
            

        </a>

        
        <a href="//beian.miit.gov.cn" target="_blank">
            
            <span class="some">icp...<span>
            
        </a>
    </div>

    
    <div class="info">
        
        <a href="https://github.com/loveminimal/hugo-theme-virgo">üïäÔ∏è</a> 2016 - <span id="info-date"></span>
    </div>

</div></div>
        <div class="cool-after" style="
            
                background-color: rgba(255, 255, 255, 0.49); 
                backdrop-filter: saturate(100%) blur(6px);
            
            "></div>
    </body>
</html>
